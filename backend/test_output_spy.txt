FAIL tests/unit/services/accounting.service.test.ts
  â— Test suite failed to run

    [96mtests/unit/services/accounting.service.test.ts[0m:[93m35[0m:[93m17[0m - [91merror[0m[90m TS2741: [0mProperty 'accountId' is missing in type 'JournalLineInput[]' but required in type 'JournalLineInput'.

    [7m35[0m                 lines: [
    [7m  [0m [91m                ~~~~~[0m

      [96mtests/unit/services/accounting.service.test.ts[0m:[93m4[0m:[93m5[0m
        [7m4[0m     accountId: string; // ID, not code
        [7m [0m [96m    ~~~~~~~~~[0m
        'accountId' is declared here.
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m35[0m:[93m17[0m - [91merror[0m[90m TS2448: [0mBlock-scoped variable 'lines' used before its declaration.

    [7m35[0m                 lines: [
    [7m  [0m [91m                ~~~~~[0m

      [96mtests/unit/services/accounting.service.test.ts[0m:[93m34[0m:[93m19[0m
        [7m34[0m             const lines: JournalLineInput[] = [
        [7m  [0m [96m                  ~~~~~[0m
        'lines' is declared here.
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m35[0m:[93m17[0m - [91merror[0m[90m TS2454: [0mVariable 'lines' is used before being assigned.

    [7m35[0m                 lines: [
    [7m  [0m [91m                ~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m35[0m:[93m24[0m - [91merror[0m[90m TS2741: [0mProperty 'accountId' is missing in type '[{ accountId: string; debit: number; credit: number; account: { id: string; type: string; }; }, { accountId: string; debit: number; credit: number; account: { id: string; type: string; }; }]' but required in type 'JournalLineInput'.

    [7m35[0m                 lines: [
    [7m  [0m [91m                       ~[0m
    [7m36[0m                     { accountId: 'acc-asset', debit: 100, credit: 0, account: { id: 'acc-asset', type: 'asset' } },
    [7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m37[0m                     { accountId: 'acc-liability', debit: 0, credit: 100, account: { id: 'acc-liability', type: 'liability' } }
    [7m  [0m [91m~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
    [7m38[0m                 ]
    [7m  [0m [91m~~~~~~~~~~~~~~~~~[0m

      [96mtests/unit/services/accounting.service.test.ts[0m:[93m4[0m:[93m5[0m
        [7m4[0m     accountId: string; // ID, not code
        [7m [0m [96m    ~~~~~~~~~[0m
        'accountId' is declared here.
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m41[0m:[93m92[0m - [91merror[0m[90m TS2304: [0mCannot find name 'mockEntry'.

    [7m41[0m         (prisma.journalEntry.create as jest.Mock).mockImplementation(() => Promise.resolve(mockEntry));
    [7m  [0m [91m                                                                                           ~~~~~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m43[0m:[93m75[0m - [91merror[0m[90m TS2304: [0mCannot find name 'lines'.

    [7m43[0m         await createJournalEntry(companyId, date, description, reference, lines, true);
    [7m  [0m [91m                                                                          ~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m68[0m:[93m34[0m - [91merror[0m[90m TS2304: [0mCannot find name 'companyId'.

    [7m68[0m         await createJournalEntry(companyId, date, description, reference, lines, true);
    [7m  [0m [91m                                 ~~~~~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m68[0m:[93m45[0m - [91merror[0m[90m TS2552: [0mCannot find name 'date'. Did you mean 'Date'?

    [7m68[0m         await createJournalEntry(companyId, date, description, reference, lines, true);
    [7m  [0m [91m                                            ~~~~[0m

      [96mnode_modules/typescript/lib/lib.es5.d.ts[0m:[93m961[0m:[93m13[0m
        [7m961[0m declare var Date: DateConstructor;
        [7m   [0m [96m            ~~~~[0m
        'Date' is declared here.
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m68[0m:[93m51[0m - [91merror[0m[90m TS2304: [0mCannot find name 'description'.

    [7m68[0m         await createJournalEntry(companyId, date, description, reference, lines, true);
    [7m  [0m [91m                                                  ~~~~~~~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m68[0m:[93m64[0m - [91merror[0m[90m TS2304: [0mCannot find name 'reference'.

    [7m68[0m         await createJournalEntry(companyId, date, description, reference, lines, true);
    [7m  [0m [91m                                                               ~~~~~~~~~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m35[0m:[93m22[0m - [91merror[0m[90m TS1005: [0m',' expected.

    [7m35[0m                 lines: [
    [7m  [0m [91m                     ~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m39[0m:[93m13[0m - [91merror[0m[90m TS1005: [0m',' expected.

    [7m39[0m             };
    [7m  [0m [91m            ~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m39[0m:[93m14[0m - [91merror[0m[90m TS1005: [0m')' expected.

    [7m39[0m             };
    [7m  [0m [91m             ~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m77[0m:[93m1[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m77[0m });
    [7m  [0m [91m~[0m
    [96mtests/unit/services/accounting.service.test.ts[0m:[93m77[0m:[93m2[0m - [91merror[0m[90m TS1128: [0mDeclaration or statement expected.

    [7m77[0m });
    [7m  [0m [91m ~[0m

Test Suites: 1 failed, 1 total
Tests:       0 total
Snapshots:   0 total
Time:        4.053 s, estimated 5 s
Ran all test suites matching tests/unit/services/accounting.service.test.ts.
Force exiting Jest: Have you considered using `--detectOpenHandles` to detect async operations that kept running after all tests finished?
