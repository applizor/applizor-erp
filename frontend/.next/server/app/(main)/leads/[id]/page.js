(()=>{var e={};e.id=9796,e.ids=[9796],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77275:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c});var a=s(50482),r=s(69108),i=s(62563),l=s.n(i),d=s(68300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(t,n);let c=["",{children:["(main)",{children:["leads",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,91759)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/[id]/page.tsx"],m="/(main)/leads/[id]/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(main)/leads/[id]/page",pathname:"/leads/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15580:(e,t,s)=>{Promise.resolve().then(s.bind(s,57747))},57747:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>q});var a=s(95344),r=s(3729),i=s(22254),l=s(20783),d=s.n(l),n=s(69224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var o=s(71206),m=s(55794);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,n.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var u=s(25545),p=s(63024);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,n.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var y=s(75695),g=s(38271),j=s(91700),f=s(51838),v=s(7060),b=s(48411),N=s(18117),w=s(43989),k=s(65489),D=s(22927),C=s(37956),Z=s(95252),A=s(73050);function q(){let e=(0,i.useRouter)(),t=(0,i.useParams)(),s=(0,w.p)(),{can:l}=(0,k.g)(),{formatCurrency:n}=(0,A.U)(),[q,z]=(0,r.useState)(null),[L,S]=(0,r.useState)([]),[M,P]=(0,r.useState)(!0),[$,T]=(0,r.useState)(!1),[_,F]=(0,r.useState)(!1),[E,U]=(0,r.useState)(!1),[I,H]=(0,r.useState)(!1),[O,V]=(0,r.useState)(!1),[G,R]=(0,r.useState)(!1),[B,Q]=(0,r.useState)(null),[W,J]=(0,r.useState)({type:"call",title:"",description:"",scheduledAt:"",dueDate:"",status:"pending",outcome:""});(0,r.useEffect)(()=>{t.id&&(X(t.id),K(t.id))},[t.id]);let X=async t=>{try{let e=await N.Z.get(`/leads/${t}`),s=e.data.lead||e.data;console.log("Lead data:",s),z(s)}catch(t){console.error("Load lead error:",t),s.error(t.response?.data?.error||"Failed to load lead"),e.push("/leads/list")}finally{P(!1)}},K=async e=>{try{let t=await N.Z.get(`/leads/${e}/activities`);S(t.data.activities||[])}catch(e){console.error("Failed to load activities")}},Y=async()=>{if(q){F(!0);try{await N.Z.delete(`/leads/${q.id}`),s.success("Lead deleted successfully"),e.push("/leads/list")}catch(e){s.error(e.response?.data?.error||"Failed to delete lead"),F(!1)}}},ee=async()=>{if(q){H(!1),U(!0);try{await N.Z.post(`/leads/${q.id}/convert-to-client`),s.success("Lead converted to client successfully"),e.push("/clients")}catch(e){s.error(e.response?.data?.error||"Failed to convert lead")}finally{U(!1)}}},et=async e=>{if(e.preventDefault(),!q||!W.title.trim()){s.error("Activity title is required");return}R(!0);try{B?(await N.Z.put(`/leads/${q.id}/activities/${B.id}`,W),s.success("Activity updated successfully")):(await N.Z.post(`/leads/${q.id}/activities`,W),s.success("Activity added successfully")),V(!1),Q(null),J({type:"call",title:"",description:"",scheduledAt:"",dueDate:"",status:"pending",outcome:""}),K(q.id),X(q.id)}catch(e){s.error(e.response?.data?.error||`Failed to ${B?"update":"add"} activity`)}finally{R(!1)}},es=e=>{Q(e),J({type:e.type||"call",title:e.title||"",description:e.description||"",scheduledAt:e.scheduledAt?new Date(e.scheduledAt).toISOString().slice(0,16):"",dueDate:e.dueDate?new Date(e.dueDate).toISOString().slice(0,16):"",status:e.status||"pending",outcome:e.outcome||""}),V(!0)},ea=async e=>{if(confirm("Are you sure you want to delete this activity?"))try{await N.Z.delete(`/leads/${q.id}/activities/${e}`),s.success("Activity deleted successfully"),K(q.id)}catch(e){s.error(e.response?.data?.error||"Failed to delete activity")}},er=async e=>{let t=prompt("Enter outcome (optional):");try{await N.Z.post(`/leads/${q.id}/activities/${e}/complete`,{outcome:t}),s.success("Activity marked as completed"),K(q.id),X(q.id)}catch(e){s.error(e.response?.data?.error||"Failed to complete activity")}};if(M)return a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(Z.T,{size:"lg"})});if(!q)return null;let ei=e=>{switch(e){case"call":return a.jsx(c,{size:16,className:"text-blue-600"});case"email":return a.jsx(o.Z,{size:16,className:"text-purple-600"});case"meeting":return a.jsx(m.Z,{size:16,className:"text-green-600"});case"note":return a.jsx(x,{size:16,className:"text-gray-600"});default:return a.jsx(u.Z,{size:16,className:"text-gray-600"})}};return(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(d(),{href:"/leads/list",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[a.jsx(p.Z,{size:16,className:"mr-1"}),"Back to Leads"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-600 font-bold text-2xl",children:q.name?.charAt(0).toUpperCase()||"L"})}),(0,a.jsxs)("div",{className:"ml-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:q.name}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${{new:"bg-blue-100 text-blue-800",contacted:"bg-purple-100 text-purple-800",qualified:"bg-green-100 text-green-800",proposal:"bg-yellow-100 text-yellow-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"}[q.status]||"bg-gray-100 text-gray-800"}`,children:q.status}),(0,a.jsxs)("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${{low:"bg-gray-100 text-gray-800",medium:"bg-blue-100 text-blue-800",high:"bg-red-100 text-red-800"}[q.priority]||"bg-gray-100 text-gray-800"}`,children:[q.priority," priority"]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[l("Lead","update")&&l("Client","create")&&(0,a.jsxs)("button",{onClick:()=>H(!0),disabled:E||"won"===q.status,className:"inline-flex items-center px-4 py-2 border border-green-300 rounded-md shadow-sm text-sm font-medium text-green-700 bg-white hover:bg-green-50 transition-colors disabled:opacity-50",children:[a.jsx(h,{size:16,className:"mr-2"}),E?"Converting...":"Convert to Client"]}),a.jsx(D.n,{module:"Lead",action:"update",children:(0,a.jsxs)(d(),{href:`/leads/${q.id}/edit`,className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[a.jsx(y.Z,{size:16,className:"mr-2"}),"Edit"]})}),a.jsx(D.n,{module:"Lead",action:"delete",children:(0,a.jsxs)("button",{onClick:()=>T(!0),className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 transition-colors",children:[a.jsx(g.Z,{size:16,className:"mr-2"}),"Delete"]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(o.Z,{className:"mr-2 text-primary-600",size:20}),"Contact Information"]}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.email||"-"})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.phone||"-"})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Job Title"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.jobTitle||"-"})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Website"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.website?a.jsx("a",{href:q.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800",children:q.website}):"-"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(j.Z,{className:"mr-2 text-primary-600",size:20}),"Company Information"]}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Company"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.company||"-"})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Industry"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.industry||"-"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[a.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Lead Details"}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Source"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 capitalize",children:q.source?.replace("-"," ")||"-"})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Source Details"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:q.sourceDetails||"-"})]}),q.nextFollowUpAt&&(0,a.jsxs)("div",{className:"sm:col-span-2",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Next Follow-up"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900 flex items-center",children:[a.jsx(u.Z,{size:16,className:"mr-2 text-orange-600"}),new Date(q.nextFollowUpAt).toLocaleString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900 whitespace-pre-wrap",children:q.notes||"-"})]}),q.tags&&q.tags.length>0&&(0,a.jsxs)("div",{className:"sm:col-span-2",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 mb-2",children:"Tags"}),a.jsx("dd",{className:"flex flex-wrap gap-2",children:q.tags.map((e,t)=>a.jsx("span",{className:"px-2 py-1 text-xs bg-gray-100 text-gray-800 rounded-full",children:e},t))})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 flex items-center",children:[a.jsx(u.Z,{className:"mr-2 text-primary-600",size:20}),"Activities"]}),l("LeadActivity","create")&&(0,a.jsxs)("button",{onClick:()=>V(!0),className:"inline-flex items-center px-3 py-1.5 border border-transparent rounded-md text-xs font-medium text-white bg-primary-600 hover:bg-primary-700",children:[a.jsx(f.Z,{size:14,className:"mr-1"}),"Add"]})]}),0===L.length?a.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No activities yet"}):(0,a.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[L.slice(0,5).map(e=>a.jsx("div",{className:"border-l-4 border-primary-200 pl-3 py-2 hover:bg-gray-50 rounded-r transition-colors",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start flex-1 min-w-0",children:[a.jsx("div",{className:"mt-0.5 mr-2",children:ei(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-900 truncate",children:e.title}),e.description&&a.jsx("p",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-2 text-xs text-gray-500 flex-wrap",children:[a.jsx("span",{className:"capitalize",children:e.type}),a.jsx("span",{children:"•"}),a.jsx("span",{children:new Date(e.createdAt).toLocaleDateString()}),e.status&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsx("span",{className:`px-2 py-0.5 rounded-full ${"completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.status})]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 ml-2",children:["pending"===e.status&&l("LeadActivity","update")&&a.jsx("button",{onClick:()=>er(e.id),className:"p-1 text-green-600 hover:bg-green-50 rounded",title:"Mark as complete",children:a.jsx(v.Z,{size:14})}),l("LeadActivity","update")&&a.jsx("button",{onClick:()=>es(e),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",title:"Edit",children:a.jsx(y.Z,{size:14})}),l("LeadActivity","delete")&&a.jsx("button",{onClick:()=>ea(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Delete",children:a.jsx(g.Z,{size:14})})]})]})},e.id)),L.length>5&&(0,a.jsxs)(d(),{href:`/leads/${q.id}/activities`,className:"block text-center text-sm text-primary-600 hover:text-primary-800 pt-2",children:["View all ",L.length," activities →"]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(b.Z,{className:"mr-2 text-primary-600",size:20}),"Lead Value"]}),a.jsx("div",{className:"text-3xl font-bold text-primary-600",children:q.value?n(parseFloat(q.value)):"-"}),q.probability&&(0,a.jsxs)("div",{className:"mt-4",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Probability"}),(0,a.jsxs)("dd",{className:"mt-1 text-lg font-semibold text-gray-900",children:[q.probability,"%"]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[a.jsx(m.Z,{className:"mr-2 text-primary-600",size:20}),"Information"]}),(0,a.jsxs)("dl",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(q.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(q.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),q.lastContactedAt&&(0,a.jsxs)("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Last Contacted"}),a.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(q.lastContactedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]}),O&&a.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:B?"Edit Activity":"Add Activity"}),(0,a.jsxs)("form",{onSubmit:et,className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Type *"}),(0,a.jsxs)("select",{value:W.type,onChange:e=>J({...W,type:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0,children:[a.jsx("option",{value:"call",children:"\uD83D\uDCDE Call"}),a.jsx("option",{value:"email",children:"\uD83D\uDCE7 Email"}),a.jsx("option",{value:"meeting",children:"\uD83D\uDCC5 Meeting"}),a.jsx("option",{value:"note",children:"\uD83D\uDCDD Note"}),a.jsx("option",{value:"task",children:"✅ Task"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{value:W.status,onChange:e=>J({...W,status:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",children:[a.jsx("option",{value:"pending",children:"Pending"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Title *"}),a.jsx("input",{type:"text",value:W.title,onChange:e=>J({...W,title:e.target.value}),placeholder:"e.g., Follow-up call with client",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),a.jsx("textarea",{value:W.description,onChange:e=>J({...W,description:e.target.value}),rows:3,placeholder:"Add details about this activity...",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Scheduled Date/Time"}),a.jsx("input",{type:"datetime-local",value:W.scheduledAt,onChange:e=>J({...W,scheduledAt:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"When this activity is planned"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Due Date"}),a.jsx("input",{type:"datetime-local",value:W.dueDate,onChange:e=>J({...W,dueDate:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Deadline for completion"})]})]}),"completed"===W.status&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Outcome"}),a.jsx("input",{type:"text",value:W.outcome,onChange:e=>J({...W,outcome:e.target.value}),placeholder:"e.g., Successful, No answer, Rescheduled",className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:()=>{V(!1),Q(null),J({type:"call",title:"",description:"",scheduledAt:"",dueDate:"",status:"pending",outcome:""})},className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:G,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:G?"Saving...":B?"Update Activity":"Save Activity"})]})]})]})}),a.jsx(C.Q,{isOpen:I,onClose:()=>H(!1),onConfirm:ee,title:"Convert Lead to Client",message:`Are you sure you want to convert "${q?.name}" to a client? This will create a new client record and mark this lead as won.`,confirmText:"Convert to Client",cancelText:"Cancel",type:"warning",isLoading:E}),a.jsx(C.Q,{isOpen:$,onClose:()=>T(!1),onConfirm:Y,title:"Delete Lead",message:`Are you sure you want to delete "${q.name}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:_})]})}},22927:(e,t,s)=>{"use strict";s.d(t,{n:()=>i});var a=s(95344);s(3729);var r=s(65489);let i=({module:e,action:t,children:s,fallback:i=null})=>{let{can:l}=(0,r.g)();return l(e,t)?a.jsx(a.Fragment,{children:s}):a.jsx(a.Fragment,{children:i})}},95252:(e,t,s)=>{"use strict";s.d(t,{T:()=>r});var a=s(95344);function r({size:e="md",className:t=""}){return a.jsx("div",{className:`${{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"}[e]} animate-spin rounded-full border-gray-300 border-t-primary-600 ${t}`,role:"status","aria-label":"Loading",children:a.jsx("span",{className:"sr-only",children:"Loading..."})})}},43989:(e,t,s)=>{"use strict";s.d(t,{p:()=>r});var a=s(92373);function r(){let{showToast:e}=(0,a.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},63024:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},91700:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},55794:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},25545:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},48411:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},71206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},75695:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},51838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91759:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});let a=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/[id]/page.tsx`),{__esModule:r,$$typeof:i}=a,l=a.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[6291,1934,783,7316,2841,2801],()=>s(77275));module.exports=a})();