(()=>{var e={};e.id=326,e.ids=[326],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},37410:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),l=s.n(i),n=s(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["(main)",{children:["leads",{children:["list",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2298)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/list/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/list/page.tsx"],x="/(main)/leads/list/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/leads/list/page",pathname:"/leads/list",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},42761:(e,t,s)=>{Promise.resolve().then(s.bind(s,9324))},9324:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var r=s(95344),a=s(3729),i=s(22254),l=s(85524),n=s(20439),o=s(51838),d=s(28765),c=s(40626),x=s(71206);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,s(69224).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);var m=s(71532),u=s(97751),h=s(20783),y=s.n(h),g=s(18117),f=s(65489),b=s(82400);function v(){let e=(0,i.useRouter)(),{can:t}=(0,f.g)(),[s,h]=(0,a.useState)([]),[v,j]=(0,a.useState)(!0),[w,N]=(0,a.useState)(0),[k,q]=(0,a.useState)(1),[S]=(0,a.useState)(10),[Z,L]=(0,a.useState)(""),[P,C]=(0,a.useState)(""),[_,M]=(0,a.useState)("");(0,a.useEffect)(()=>{A()},[k,P,_,Z]);let A=async()=>{try{j(!0);let e=await g.Z.get("/leads",{params:{page:k,limit:S,search:Z,status:P,stage:_}});h(e.data.leads),e.data.pagination?N(e.data.pagination.total):N(e.data.leads.length)}catch(e){console.error("Error fetching leads:",e)}finally{j(!1)}},U=e=>{switch(e){case"won":return"bg-emerald-100 text-emerald-800";case"lost":return"bg-red-100 text-red-800";case"lead":default:return"bg-gray-100 text-gray-800";case"contacted":return"bg-blue-100 text-blue-800";case"proposal":return"bg-yellow-100 text-yellow-800";case"negotiation":return"bg-purple-100 text-purple-800"}};return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leads"}),r.jsx("p",{className:"text-sm text-gray-500",children:"Manage your sales pipeline"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"flex bg-gray-100 p-1 rounded-lg",children:[r.jsx(y(),{href:"/leads/kanban",className:"p-2 text-gray-500 hover:text-gray-900 rounded-md",title:"Kanban View",children:r.jsx(l.Z,{className:"w-4 h-4"})}),r.jsx("button",{className:"p-2 bg-white text-primary-600 shadow-sm rounded-md",title:"List View",children:r.jsx(n.Z,{className:"w-4 h-4"})})]}),t("Lead","create")&&(0,r.jsxs)(y(),{href:"/leads/create",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[r.jsx(o.Z,{className:"w-4 h-4 mr-2"}),"New Lead"]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-200 mb-6 flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,r.jsxs)("div",{className:"relative w-full md:w-96",children:[r.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:r.jsx(d.Z,{className:"h-4 w-4 text-gray-400"})}),r.jsx("input",{type:"text",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",placeholder:"Search leads by name, email, or company...",value:Z,onChange:e=>{L(e.target.value),q(1)}})]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[(0,r.jsxs)("select",{value:_,onChange:e=>M(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"All Stages"}),r.jsx("option",{value:"lead",children:"Lead"}),r.jsx("option",{value:"contacted",children:"Contacted"}),r.jsx("option",{value:"qualified",children:"Qualified"}),r.jsx("option",{value:"proposal",children:"Proposal"}),r.jsx("option",{value:"negotiation",children:"Negotiation"}),r.jsx("option",{value:"closed",children:"Closed"})]}),(0,r.jsxs)("select",{value:P,onChange:e=>C(e.target.value),className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"All Statuses"}),r.jsx("option",{value:"new",children:"New"}),r.jsx("option",{value:"won",children:"Won"}),r.jsx("option",{value:"lost",children:"Lost"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white shadow-sm border border-gray-200 rounded-lg overflow-hidden",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Name"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Company"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stage"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"}),r.jsx("th",{scope:"col",className:"relative px-6 py-3",children:r.jsx("span",{className:"sr-only",children:"Actions"})})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v?[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"h-6 bg-gray-200 rounded-full w-20"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-16"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"})]},t)):0===s.length?r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No leads found matching your criteria."})}):s.map(t=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>e.push(`/leads/${t.id}`),children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center text-primary-600 font-bold",children:t.name.charAt(0).toUpperCase()}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:t.name}),r.jsx("div",{className:"text-sm text-gray-500",children:t.email})]})]})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[r.jsx("div",{className:"text-sm text-gray-900",children:t.company||"-"}),r.jsx("div",{className:"text-sm text-gray-500",children:t.industry})]}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${U(t.stage)} capitalized`,children:t.stage})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:t.value?`$${Number(t.value).toLocaleString()}`:"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,b.WU)(new Date(t.createdAt),"MMM d, yyyy")}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-2 text-gray-400",children:[t.phone&&r.jsx(c.Z,{className:"w-4 h-4 hover:text-gray-600"}),t.email&&r.jsx(x.Z,{className:"w-4 h-4 hover:text-gray-600"}),r.jsx(p,{className:"w-4 h-4 hover:text-gray-600"})]})})]},t.id))})]})}),(0,r.jsxs)("div",{className:"bg-white px-4 py-3 border-t border-gray-200 flex items-center justify-between sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>q(e=>Math.max(1,e-1)),disabled:1===k,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),r.jsx("button",{onClick:()=>q(e=>e+1),disabled:s.length<S&&k*S>=w,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:"Next"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",r.jsx("span",{className:"font-medium",children:v?"-":(k-1)*S+1})," to ",r.jsx("span",{className:"font-medium",children:v?"-":Math.min(k*S,w)})," of ",r.jsx("span",{className:"font-medium",children:v?"-":w})," results"]})}),r.jsx("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,r.jsxs)("button",{onClick:()=>q(e=>Math.max(1,e-1)),disabled:1===k||v,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),r.jsx(m.Z,{className:"h-5 w-5","aria-hidden":"true"})]}),r.jsx("button",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50",children:k}),(0,r.jsxs)("button",{onClick:()=>q(e=>e+1),disabled:k*S>=w||v,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[r.jsx("span",{className:"sr-only",children:"Next"}),r.jsx(u.Z,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})}},65489:(e,t,s)=>{"use strict";s.d(t,{g:()=>a});var r=s(67857);let a=()=>{let{user:e}=(0,r.a)();return{can:(t,s)=>{if(!e)return!1;if(e.roles?.some(e=>"admin"===e.toLowerCase()||"administrator"===e.toLowerCase()))return!0;if(!e.permissions)return!1;let r=e.permissions[t];if(!r)return!1;let a="none";switch(s){case"create":a=r.createLevel;break;case"read":a=r.readLevel;break;case"update":a=r.updateLevel;break;case"delete":a=r.deleteLevel}return"none"!==a&&void 0!==a},getScope:(t,s)=>{if(!e||!e.permissions||!e.permissions[t])return"none";if(e.roles?.some(e=>"admin"===e.toLowerCase()))return"all";let r=e.permissions[t],a="none";switch(s){case"create":a=r.createLevel;break;case"read":a=r.readLevel;break;case"update":a=r.updateLevel;break;case"delete":a=r.deleteLevel}return a},user:e}}},67857:(e,t,s)=>{"use strict";s.d(t,{I:()=>i,a:()=>l});var r=s(18117),a=s(3729);let i={register:async e=>{let t=await r.Z.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},login:async(e,t)=>{let s=await r.Z.post("/auth/login",{email:e,password:t});return s.data.token&&(localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user))),s.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},getToken:()=>null,getUser:()=>null,isAuthenticated:()=>!!i.getToken()},l=()=>{let[e,t]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{let e=i.getUser();if(e&&t(e),i.getToken())try{let e=await r.Z.get("/auth/profile");if(e.data.user){let s=e.data.user;localStorage.setItem("user",JSON.stringify(s)),t(s)}}catch(e){console.error("Auth refresh failed",e)}l(!1)})()},[]),{user:e,loading:s,isAuthenticated:!!e}}},71532:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},97751:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},85524:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]])},20439:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]])},51838:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},28765:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},2298:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/leads/list/page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,783,649,3553],()=>s(37410));module.exports=r})();