(()=>{var e={};e.id=8273,e.ids=[8273],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},33114:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),d=s(68300),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o=["",{children:["(main)",{children:["recruitment",{children:["candidates",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,35194)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/recruitment/candidates/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,37432)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/recruitment/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/recruitment/candidates/[id]/page.tsx"],m="/(main)/recruitment/candidates/[id]/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/recruitment/candidates/[id]/page",pathname:"/recruitment/candidates/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},30798:(e,t,s)=>{Promise.resolve().then(s.bind(s,58638))},58638:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>g});var r=s(95344),a=s(43989),n=s(3729),i=s(22254),d=s(20783),l=s.n(d),o=s(99395),c=s(68282);function m({isOpen:e,onClose:t,onSubmit:s}){let[a,i]=(0,n.useState)(!1),[d,l]=(0,n.useState)({round:1,type:"technical",scheduledAt:"",interviewer:""}),o=async e=>{e.preventDefault();try{i(!0),await s(d),t(),l({round:1,type:"technical",scheduledAt:"",interviewer:""})}catch(e){console.error("Failed to schedule interview:",e)}finally{i(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[r.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Schedule Interview"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:r.jsx("span",{className:"text-2xl",children:"\xd7"})})]}),(0,r.jsxs)("form",{onSubmit:o,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Round Number"}),r.jsx("input",{type:"number",required:!0,min:"1",value:d.round,onChange:e=>l({...d,round:Number(e.target.value)}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interview Type"}),(0,r.jsxs)("select",{value:d.type,onChange:e=>l({...d,type:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"technical",children:"Technical"}),r.jsx("option",{value:"hr",children:"HR"}),r.jsx("option",{value:"managerial",children:"Managerial"}),r.jsx("option",{value:"final",children:"Final Round"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),r.jsx("input",{type:"datetime-local",required:!0,value:d.scheduledAt,onChange:e=>l({...d,scheduledAt:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Interviewer Name"}),r.jsx("input",{type:"text",required:!0,value:d.interviewer,onChange:e=>l({...d,interviewer:e.target.value}),placeholder:"e.g. Jane Doe",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Scheduling...":"Schedule"})]})]})]})}):null}function u({isOpen:e,onClose:t,onSubmit:s,candidateName:a}){let[i,d]=(0,n.useState)(!1),[l,o]=(0,n.useState)({position:"",department:"",salary:"",startDate:""}),c=async e=>{e.preventDefault();try{d(!0),await s(l),t()}catch(e){console.error("Failed to generate offer:",e)}finally{d(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[r.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Generate Offer Letter"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:r.jsx("span",{className:"text-2xl",children:"\xd7"})})]}),(0,r.jsxs)("div",{className:"px-6 py-2 bg-yellow-50 text-sm text-yellow-800 border-b border-yellow-100",children:["Generating offer for ",r.jsx("strong",{children:a})]}),(0,r.jsxs)("form",{onSubmit:c,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position / Title"}),r.jsx("input",{type:"text",required:!0,value:l.position,onChange:e=>o({...l,position:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),r.jsx("input",{type:"text",value:l.department,onChange:e=>o({...l,department:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Annual Salary (CTC)"}),r.jsx("input",{type:"number",required:!0,min:"0",value:l.salary,onChange:e=>o({...l,salary:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Joining Date"}),r.jsx("input",{type:"date",required:!0,value:l.startDate,onChange:e=>o({...l,startDate:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Generating...":"Generate Offer"})]})]})]})}):null}var x=s(36989);function p({isOpen:e,onClose:t,onSubmit:s,candidate:a,offer:i}){let[d,l]=(0,n.useState)(!1),[o,m]=(0,n.useState)([]),[u,p]=(0,n.useState)([]),[g,h]=(0,n.useState)({isOpen:!1,type:"info",message:""}),[y,f]=(0,n.useState)({employeeId:"",password:"",confirmPassword:"",firstName:"",lastName:"",email:"",phone:"",departmentId:"",positionId:"",dateOfJoining:"",candidateId:""});(0,n.useEffect)(()=>{e&&(b(),f(e=>({...e,firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phone,candidateId:a.id,dateOfJoining:i?.startDate?new Date(i.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})))},[e,a,i]);let b=async()=>{try{let[e,t]=await Promise.all([c.WU.getAll(),c.Rw.getAll()]);if(m(e),p(t),i?.department){let t=e.find(e=>e.name.toLowerCase()===i.department.toLowerCase());t&&f(e=>({...e,departmentId:t.id}))}}catch(e){console.error("Failed to load metadata",e)}},j=async e=>{if(e.preventDefault(),y.password!==y.confirmPassword){h({isOpen:!0,type:"error",title:"Password Mismatch",message:"Passwords do not match"});return}try{l(!0),await s({...y,status:"active"}),t()}catch(e){console.error("Failed to onboard:",e),h({isOpen:!0,type:"error",title:"Onboarding Failed",message:"Failed to onboard employee. Please check inputs."})}finally{l(!1)}};return e?r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full m-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[r.jsx("h3",{className:"text-xl font-medium text-gray-900",children:"Onboard Employee"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500",children:r.jsx("span",{className:"text-2xl",children:"\xd7"})})]}),(0,r.jsxs)("form",{onSubmit:j,className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),r.jsx("input",{type:"text",value:y.firstName,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),r.jsx("input",{type:"text",value:y.lastName,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),r.jsx("input",{type:"email",value:y.email,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),r.jsx("input",{type:"text",value:y.phone,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Employee ID ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",required:!0,placeholder:"e.g. EMP001",value:y.employeeId,onChange:e=>f({...y,employeeId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Joining Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",required:!0,value:y.dateOfJoining,onChange:e=>f({...y,dateOfJoining:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,r.jsxs)("select",{value:y.departmentId,onChange:e=>f({...y,departmentId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select Department"}),o.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,r.jsxs)("select",{value:y.positionId,onChange:e=>f({...y,positionId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"Select Position"}),u.filter(e=>!y.departmentId||e.departmentId===y.departmentId).map(e=>r.jsx("option",{value:e.id,children:e.title},e.id))]})]})]}),(0,r.jsxs)("div",{className:"border-t pt-4",children:[r.jsx("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"User Account Setup"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",required:!0,minLength:6,value:y.password,onChange:e=>f({...y,password:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Confirm Password ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"password",required:!0,minLength:6,value:y.confirmPassword,onChange:e=>f({...y,confirmPassword:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[r.jsx("button",{type:"button",onClick:t,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:d,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:d?"Onboarding...":"Create Employee & User"})]})]}),r.jsx(x.Z,{isOpen:g.isOpen,onClose:()=>h({...g,isOpen:!1}),type:g.type,title:g.title,message:g.message})]})}):null}function g({params:e}){let t=(0,a.p)(),s=(0,i.useRouter)(),[d,x]=(0,n.useState)(null),[g,h]=(0,n.useState)([]),[y,f]=(0,n.useState)(null),[b,j]=(0,n.useState)(!0),[v,w]=(0,n.useState)(!1),[N,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[q,D]=(0,n.useState)(!1),[P,I]=(0,n.useState)({status:"",currentStage:"",notes:""});(0,n.useEffect)(()=>{E()},[]);let E=async()=>{try{j(!0);let[t]=await Promise.all([o.hs.getById(e.id)]);x(t),I({status:t.status,currentStage:t.currentStage||"",notes:t.notes||""}),O(),A()}catch(e){console.error("Failed to load candidate data:",e),t.error("Failed to load candidate details"),s.push("/recruitment/candidates")}finally{j(!1)}},O=async()=>{try{let t=await o.pq.getByCandidate(e.id);h(t)}catch(e){console.error("Failed to load interviews:",e)}},A=async()=>{try{let t=await o.Ce.getByCandidate(e.id);f(t)}catch(e){console.log("No offer found")}},Z=async s=>{s.preventDefault();try{w(!0),await o.hs.updateStatus(e.id,P),E()}catch(e){console.error("Failed to update status:",e),t.error("Failed to update candidate status")}finally{w(!1)}},F=async t=>{await o.pq.schedule({...t,candidateId:e.id}),E()},$=async t=>{await o.Ce.create({...t,candidateId:e.id}),E()},_=async e=>{await c.rw.create(e),t.success("Employee onboarded successfully! User account created."),E()},T=async e=>{let t=prompt("Enter feedback:");if(null===t)return;let s=Number(prompt("Enter rating (1-5):","3"));await o.pq.updateFeedback(e,{feedback:t,rating:s,status:"completed"}),E()},U=async e=>{confirm("Mark offer as ACCEPTED? This will mark the candidate as HIRED.")&&(await o.Ce.updateStatus(e,"accepted"),E())},R=async e=>{confirm("Mark offer as REJECTED? This will mark the candidate as REJECTED.")&&(await o.Ce.updateStatus(e,"rejected"),E())};return b?r.jsx("div",{children:"Loading..."}):d?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx(l(),{href:"/recruitment/candidates",className:"text-sm text-gray-500 hover:text-gray-700",children:"← Back to Candidates"}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[d.firstName," ",d.lastName]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[d.email," • ",d.phone]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold uppercase tracking-wide
                    ${"hired"===d.status?"bg-green-100 text-green-800":"rejected"===d.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:d.status}),"hired"===d.status&&r.jsx("button",{onClick:()=>D(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 text-sm font-medium",children:"Onboard as Employee"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Interviews"}),r.jsx("button",{onClick:()=>k(!0),className:"text-sm text-primary-600 hover:text-primary-800 font-medium",children:"+ Schedule Interview"})]}),r.jsx("div",{className:"border-t border-gray-200",children:0===g.length?r.jsx("div",{className:"px-4 py-5 text-sm text-gray-500 text-center",children:"No interviews scheduled."}):r.jsx("ul",{className:"divide-y divide-gray-200",children:g.map(e=>(0,r.jsxs)("li",{className:"px-4 py-4 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"text-sm font-medium text-gray-900 truncate",children:["Round ",e.round,": ",e.type.toUpperCase()]}),r.jsx("div",{className:"ml-2 flex-shrink-0 flex",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                                                ${"completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status})})]}),(0,r.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,r.jsxs)("p",{children:["Scheduled: ",new Date(e.scheduledAt).toLocaleString()]}),(0,r.jsxs)("p",{children:["Interviewer: ",e.interviewer]}),e.feedback&&(0,r.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[r.jsx("p",{className:"font-medium",children:"Feedback:"}),r.jsx("p",{children:e.feedback}),(0,r.jsxs)("p",{children:["Rating: ",e.rating,"/5"]})]})]}),"scheduled"===e.status&&r.jsx("div",{className:"mt-2",children:r.jsx("button",{onClick:()=>T(e.id),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"Add Feedback & Complete"})})]},e.id))})})]}),(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Offer Letter"}),!y&&r.jsx("button",{onClick:()=>S(!0),className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"+ Generate Offer"})]}),r.jsx("div",{className:"border-t border-gray-200",children:y?(0,r.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full
                                            ${"accepted"===y.status?"bg-green-100 text-green-800":"rejected"===y.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:y.status.toUpperCase()})})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Salary (CTC)"}),(0,r.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:["₹ ",y.salary.toLocaleString()]})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Position"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:y.position})]}),(0,r.jsxs)("div",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Joining Date"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(y.startDate).toLocaleDateString()})]})]}),"pending"===y.status||"sent"===y.status?(0,r.jsxs)("div",{className:"mt-6 flex space-x-4",children:[r.jsx("button",{onClick:()=>U(y.id),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700",children:"Mark Accepted (Hire)"}),r.jsx("button",{onClick:()=>R(y.id),className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700",children:"Mark Rejected"}),"pending"===y.status&&r.jsx("button",{onClick:()=>o.Ce.updateStatus(y.id,"sent").then(E),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Mark Sent"})]}):null]}):r.jsx("div",{className:"px-4 py-5 text-sm text-gray-500 text-center",children:"No offer generated yet."})})]}),(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[r.jsx("div",{className:"px-4 py-5 sm:px-6",children:r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Application Details"})}),r.jsx("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:(0,r.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[(0,r.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Applying For"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:d.jobOpening?.title||"General Application"})]}),(0,r.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Applied On"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(d.createdAt).toLocaleDateString()})]}),(0,r.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Current Stage"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:d.currentStage||"N/A"})]}),(0,r.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),r.jsx("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-wrap",children:d.notes||"No notes added."})]})]})})]})]}),r.jsx("div",{className:"lg:col-span-1 space-y-6",children:(0,r.jsxs)("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Status"}),(0,r.jsxs)("form",{onSubmit:Z,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,r.jsxs)("select",{value:P.status,onChange:e=>I({...P,status:e.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[r.jsx("option",{value:"applied",children:"Applied"}),r.jsx("option",{value:"screening",children:"Screening"}),r.jsx("option",{value:"interview",children:"Interview"}),r.jsx("option",{value:"offer",children:"Offer"}),r.jsx("option",{value:"hired",children:"Hired"}),r.jsx("option",{value:"rejected",children:"Rejected"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stage"}),r.jsx("input",{type:"text",value:P.currentStage,onChange:e=>I({...P,currentStage:e.target.value}),placeholder:"e.g. Technical Round 1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Internal Notes"}),r.jsx("textarea",{rows:4,value:P.notes,onChange:e=>I({...P,notes:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),r.jsx("button",{type:"submit",disabled:v,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:v?"Updating...":"Update Status"})]})]})})]}),r.jsx(m,{isOpen:N,onClose:()=>k(!1),onSubmit:F}),r.jsx(u,{isOpen:C,onClose:()=>S(!1),onSubmit:$,candidateName:`${d.firstName} ${d.lastName}`}),r.jsx(p,{isOpen:q,onClose:()=>D(!1),onSubmit:_,candidate:d,offer:y})]}):r.jsx("div",{children:"Candidate not found"})}},36989:(e,t,s)=>{"use strict";s.d(t,{Z:()=>c});var r=s(95344),a=s(3729),n=s(7060),i=s(66138),d=s(45961),l=s(91991),o=s(14513);function c({isOpen:e,onClose:t,title:s,message:c,type:m="info",confirmText:u="OK",cancelText:x="Cancel",onConfirm:p,showCancel:g=!1}){return((0,a.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,a.useEffect)(()=>{let s=e=>{"Escape"===e.key&&t()};return e&&document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[e,t]),e)?(0,r.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[r.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),(0,r.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:[(0,r.jsxs)("div",{className:`flex items-start p-6 border-b ${(()=>{switch(m){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()}`,children:[r.jsx("div",{className:"flex-shrink-0 mr-3",children:(()=>{switch(m){case"success":return r.jsx(n.Z,{className:"w-6 h-6 text-green-600"});case"error":return r.jsx(i.Z,{className:"w-6 h-6 text-red-600"});case"warning":return r.jsx(d.Z,{className:"w-6 h-6 text-yellow-600"});default:return r.jsx(l.Z,{className:"w-6 h-6 text-blue-600"})}})()}),(0,r.jsxs)("div",{className:"flex-1",children:[s&&r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s}),r.jsx("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:c})]}),r.jsx("button",{onClick:t,className:"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(o.Z,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 p-4 bg-gray-50",children:[g&&r.jsx("button",{onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:x}),r.jsx("button",{onClick:()=>{p&&p(),t()},className:`px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ${(()=>{switch(m){case"error":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}})()}`,children:u})]})]})]}):null}},68282:(e,t,s)=>{"use strict";s.d(t,{Rw:()=>n,WU:()=>a,rw:()=>i});var r=s(18117);let a={getAll:async()=>(await r.Z.get("/departments")).data,create:async e=>(await r.Z.post("/departments",e)).data,update:async(e,t)=>(await r.Z.put(`/departments/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/departments/${e}`)).data},n={getAll:async e=>(await r.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await r.Z.post("/positions",e)).data,update:async(e,t)=>(await r.Z.put(`/positions/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/positions/${e}`)).data},i={getAll:async e=>(await r.Z.get("/employees",{params:e})).data,getById:async e=>(await r.Z.get(`/employees/${e}`)).data,create:async e=>(await r.Z.post("/employees",e)).data,update:async(e,t)=>(await r.Z.put(`/employees/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/employees/${e}`)).data,uploadDocument:async(e,t)=>(await r.Z.post(`/employees/${e}/documents`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},35194:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/recruitment/candidates/[id]/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,783,7316,2841,9456],()=>s(33114));module.exports=r})();