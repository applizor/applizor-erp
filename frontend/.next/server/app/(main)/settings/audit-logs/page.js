(()=>{var e={};e.id=513,e.ids=[513],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},45325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(main)",{children:["settings",{children:["audit-logs",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,23329)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/audit-logs/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/audit-logs/page.tsx"],p="/(main)/settings/audit-logs/page",x={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/settings/audit-logs/page",pathname:"/settings/audit-logs",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12374:(e,t,s)=>{Promise.resolve().then(s.bind(s,62713))},62713:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95344),a=s(3729);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!0),[n,o]=(0,a.useState)({page:1,limit:20,total:0,pages:1});(0,a.useEffect)(()=>{l(n.page)},[n.page]);let l=async e=>{i(!0);try{let s=localStorage.getItem("token"),r=await fetch(`http://localhost:5000/api/api/audit-logs?page=${e}&limit=${n.limit}`,{headers:{Authorization:`Bearer ${s}`}});if(r.ok){let e=await r.json();t(e.logs),o(e.pagination)}}catch(e){console.error("Failed to fetch audit logs")}finally{i(!1)}};return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Audit Logs"}),r.jsx("p",{className:"mb-6 text-sm text-gray-500",children:"Track system activities and security events."}),(0,r.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Module"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Details"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"})]})}),(0,r.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[e.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.user?`${e.user.firstName} ${e.user.lastName}`:"System / Unknown"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"LOGIN"===e.action?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.action})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.module}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:e.details||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ipAddress||"-"}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleString()})]},e.id)),!s&&0===e.length&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"No logs found."})}),s&&r.jsx("tr",{children:r.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-500",children:"Loading..."})})]})]}),(0,r.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[r.jsx("button",{onClick:()=>o({...n,page:Math.max(1,n.page-1)}),disabled:1===n.page,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),r.jsx("button",{onClick:()=>o({...n,page:Math.min(n.pages,n.page+1)}),disabled:n.page===n.pages,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[r.jsx("div",{children:(0,r.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",r.jsx("span",{className:"font-medium",children:(n.page-1)*n.limit+1})," to ",r.jsx("span",{className:"font-medium",children:Math.min(n.page*n.limit,n.total)})," of ",r.jsx("span",{className:"font-medium",children:n.total})," results"]})}),r.jsx("div",{children:(0,r.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,r.jsxs)("button",{onClick:()=>o({...n,page:Math.max(1,n.page-1)}),disabled:1===n.page,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("span",{className:"sr-only",children:"Previous"}),"←"]}),(0,r.jsxs)("button",{onClick:()=>o({...n,page:Math.min(n.pages,n.page+1)}),disabled:n.page===n.pages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[r.jsx("span",{className:"sr-only",children:"Next"}),"→"]})]})})]})]})]})]})}},22254:(e,t,s)=>{e.exports=s(14767)},23329:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/audit-logs/page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,3553],()=>s(45325));module.exports=r})();