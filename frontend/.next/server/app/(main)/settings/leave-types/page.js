(()=>{var e={};e.id=8384,e.ids=[8384],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},83110:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>p,tree:()=>d});var s=a(50482),r=a(69108),n=a(62563),i=a.n(n),l=a(68300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);a.d(t,c);let d=["",{children:["(main)",{children:["settings",{children:["leave-types",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,54486)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/leave-types/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/leave-types/page.tsx"],m="/(main)/settings/leave-types/page",x={require:a,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(main)/settings/leave-types/page",pathname:"/settings/leave-types",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},60987:(e,t,a)=>{Promise.resolve().then(a.bind(a,17471))},17471:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(95344),r=a(43989),n=a(3729),i=a(1660),l=a(68282),c=a(51838),d=a(61459),o=a(55794),m=a(91991),x=a(75695),p=a(38271),y=a(14513);function u(){let e=(0,r.p)(),[t,a]=(0,n.useState)([]),[u,h]=(0,n.useState)([]),[g,b]=(0,n.useState)([]),[f,v]=(0,n.useState)(!0),[j,N]=(0,n.useState)(!1),[w,k]=(0,n.useState)("general"),[D,Z]=(0,n.useState)({name:"",days:0,isPaid:!0,description:"",monthlyLimit:0,maxConsecutiveDays:0,minServiceDays:0,sandwichRule:!1,encashable:!1,proofRequired:!1,color:"#3B82F6",accrualType:"yearly",accrualRate:0,maxAccrual:0,departmentIds:[],positionIds:[],noticePeriod:0,minDaysForNotice:0,minDaysForProof:0,includeNonWorkingDays:!1}),[C,P]=(0,n.useState)(!1);(0,n.useEffect)(()=>{I()},[]);let I=async()=>{try{v(!0);let[e,t,s]=await Promise.all([i.NY.getAll(),l.WU.getAll(),l.Rw.getAll()]);a(e),h(t),b(s)}catch(e){console.error("Failed to load data:",e)}finally{v(!1)}},q=e=>{let t="string"==typeof e.policySettings?JSON.parse(e.policySettings):e.policySettings||{};Z({...e,departmentIds:e.departmentIds||[],positionIds:e.positionIds||[],noticePeriod:t.noticePeriod||0,minDaysForNotice:t.minDaysForNotice||0,minDaysForProof:t.minDaysForProof||0,includeNonWorkingDays:t.includeNonWorkingDays||!1}),P(!0),k("general"),N(!0)},A=async t=>{t.preventDefault();try{let e={...D,policySettings:{noticePeriod:D.noticePeriod,minDaysForNotice:D.minDaysForNotice,minDaysForProof:D.minDaysForProof,includeNonWorkingDays:D.includeNonWorkingDays}};C&&D.id?await i.NY.update(D.id,e):await i.NY.create(e),N(!1),S(),I()}catch(t){console.error("Failed to save leave type:",t),e.error("Failed to save leave type")}},R=async e=>{if(confirm("Are you sure you want to delete this leave type?"))try{await i.NY.delete(e),I()}catch(e){console.error("Failed to delete:",e)}},S=()=>{Z({name:"",days:0,isPaid:!0,description:"",monthlyLimit:0,maxConsecutiveDays:0,minServiceDays:0,sandwichRule:!1,encashable:!1,proofRequired:!1,color:"#3B82F6",accrualType:"yearly",accrualRate:0,maxAccrual:0,departmentIds:[],positionIds:[],noticePeriod:0,minDaysForNotice:0,minDaysForProof:0,includeNonWorkingDays:!1}),P(!1),k("general")},M=(e,t)=>{Z(a=>{let s=a[t]||[];return s.includes(e)?{...a,[t]:s.filter(t=>t!==e)}:{...a,[t]:[...s,e]}})};return s.jsx("div",{className:"px-4 py-6 sm:px-0",children:(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Leave Types Configuration"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Define leave policies, limits, and carry-forward rules."})]}),(0,s.jsxs)("button",{onClick:()=>{S(),N(!0)},className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 shadow-sm",children:[s.jsx(c.Z,{size:18}),s.jsx("span",{children:"Add Leave Type"})]})]}),s.jsx("div",{className:"bg-white rounded-lg shadow border overflow-hidden",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[s.jsx("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[s.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Leave Type"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Entitlement"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Scope"}),s.jsx("th",{className:"px-6 py-4 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Restrictions"}),s.jsx("th",{className:"px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500 animate-pulse",children:"Loading settings..."})}):0===t.length?s.jsx("tr",{children:s.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-500",children:"No leave types defined. Create one to get started."})}):t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-50 group transition-colors",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx("span",{className:"flex-shrink-0 h-4 w-4 rounded-full mr-3 ring-2 ring-white shadow-sm",style:{backgroundColor:e.color||"#3B82F6"}}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"text-sm font-bold text-gray-900",children:e.name}),s.jsx("div",{className:"text-xs text-gray-400",children:e.description||"No description"})]})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 text-center",children:[(0,s.jsxs)("div",{className:"text-sm font-semibold text-gray-900",children:[e.days," Days/Year"]}),e.monthlyLimit>0&&(0,s.jsxs)("div",{className:"text-xs text-orange-600",children:["Max ",e.monthlyLimit,"/month"]})]}),s.jsx("td",{className:"px-6 py-4 text-center",children:s.jsx("div",{className:"text-xs",children:e.departmentIds&&0!==e.departmentIds.length||e.positionIds&&0!==e.positionIds.length?(0,s.jsxs)("div",{className:"flex flex-col space-y-1 items-center",children:[e.departmentIds&&e.departmentIds.length>0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full",children:e.departmentIds.length===u.length?"All Depts":`${e.departmentIds.length} Depts`}),e.positionIds&&e.positionIds.length>0&&s.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-0.5 rounded-full",children:e.positionIds.length===g.length?"All Roles":`${e.positionIds.length} Roles`})]}):s.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Global"})})}),s.jsx("td",{className:"px-6 py-4",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1 text-xs text-gray-500",children:[e.sandwichRule&&(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(d.Z,{size:12,className:"mr-1 text-red-500"})," Sandwich Rule"]}),e.maxConsecutiveDays>0&&(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(o.Z,{size:12,className:"mr-1 text-orange-500"})," Max ",e.maxConsecutiveDays," consecutive"]}),e.proofRequired&&(0,s.jsxs)("span",{className:"flex items-center",children:[s.jsx(m.Z,{size:12,className:"mr-1 text-blue-500"})," Proof Required"]}),!e.sandwichRule&&!e.maxConsecutiveDays&&!e.proofRequired&&s.jsx("span",{className:"text-gray-300 mx-auto",children:"-"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[s.jsx("button",{onClick:()=>q(e),className:"text-gray-400 hover:text-indigo-600 p-1",children:s.jsx(x.Z,{size:16})}),s.jsx("button",{onClick:()=>R(e.id),className:"text-gray-400 hover:text-red-600 p-1",children:s.jsx(p.Z,{size:16})})]})})]},e.id))})]})}),j&&s.jsx("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-lg w-full flex flex-col max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C?"Edit Leave Policy":"New Leave Policy"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Configure rules and limits"})]}),s.jsx("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:s.jsx(y.Z,{size:24})})]}),(0,s.jsxs)("div",{className:"flex border-b border-gray-200",children:[s.jsx("button",{onClick:()=>k("general"),className:`flex-1 py-3 text-sm font-medium text-center border-b-2 transition-colors ${"general"===w?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"General Info"}),s.jsx("button",{onClick:()=>k("entitlement"),className:`flex-1 py-3 text-sm font-medium text-center border-b-2 transition-colors ${"entitlement"===w?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Entitlement"}),s.jsx("button",{onClick:()=>k("restrictions"),className:`flex-1 py-3 text-sm font-medium text-center border-b-2 transition-colors ${"restrictions"===w?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Restrictions"}),s.jsx("button",{onClick:()=>k("assignment"),className:`flex-1 py-3 text-sm font-medium text-center border-b-2 transition-colors ${"assignment"===w?"border-primary-600 text-primary-600 bg-primary-50":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Assignment"})]}),(0,s.jsxs)("form",{onSubmit:A,className:"flex-1 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"p-6 space-y-6",children:["general"===w&&(0,s.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Leave Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",required:!0,value:D.name,onChange:e=>Z({...D,name:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border",placeholder:"e.g. Sick Leave, Privilege Leave"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Color Code"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"color",value:D.color,onChange:e=>Z({...D,color:e.target.value}),className:"h-10 w-16 p-1 rounded border border-gray-300 cursor-pointer"}),s.jsx("span",{className:"text-sm text-gray-500",children:D.color})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),s.jsx("textarea",{rows:3,value:D.description,onChange:e=>Z({...D,description:e.target.value}),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border",placeholder:"Brief description of this leave type..."})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-100",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-gray-900 block",children:"Is Paid Leave?"}),s.jsx("span",{className:"text-xs text-gray-500",children:"Uncheck for Loss of Pay (LOP)"})]}),(0,s.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:D.isPaid,onChange:e=>Z({...D,isPaid:e.target.checked}),className:"sr-only peer"}),s.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]}),"entitlement"===w&&(0,s.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Annual Quota"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",required:!0,min:"0",value:D.days,onChange:e=>Z({...D,days:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 text-sm",children:"Days"})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Limit"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",value:D.monthlyLimit,onChange:e=>Z({...D,monthlyLimit:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 text-sm",children:"Days"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Set 0 for no limit"})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-100",children:[(0,s.jsxs)("div",{children:[s.jsx("span",{className:"text-sm font-medium text-blue-900 block",children:"Is Encashable?"}),s.jsx("span",{className:"text-xs text-blue-700",children:"Allow employees to encash unused balance"})]}),s.jsx("input",{type:"checkbox",checked:D.encashable,onChange:e=>Z({...D,encashable:e.target.checked}),className:"h-5 w-5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"})]}),(0,s.jsxs)("div",{className:"border-t pt-4 mt-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-4",children:"Accrual Policy"}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accrual Type"}),(0,s.jsxs)("select",{value:D.accrualType,onChange:e=>Z({...D,accrualType:e.target.value}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border",children:[s.jsx("option",{value:"yearly",children:"Yearly (Lump sum at start)"}),s.jsx("option",{value:"monthly",children:"Monthly (Accrual per month)"}),s.jsx("option",{value:"daily",children:"Daily (Accrual per day)"})]})]}),"yearly"!==D.accrualType&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 animate-fadeIn",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accrual Rate"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",step:"0.01",min:"0",value:D.accrualRate,onChange:e=>Z({...D,accrualRate:parseFloat(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),(0,s.jsxs)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 text-xs",children:["Days/","monthly"===D.accrualType?"Mo":"Day"]})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Accrual"}),(0,s.jsxs)("div",{className:"relative",children:[s.jsx("input",{type:"number",min:"0",value:D.maxAccrual,onChange:e=>Z({...D,maxAccrual:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400 text-sm",children:"Days"})]}),s.jsx("p",{className:"text-[10px] text-gray-500 mt-1",children:"Total limit (0 = Unlimited)"})]})]})]})]})]}),"restrictions"===w&&(0,s.jsxs)("div",{className:"space-y-4 animate-fadeIn",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Consecutive Days"}),s.jsx("input",{type:"number",min:"0",value:D.maxConsecutiveDays,onChange:e=>Z({...D,maxConsecutiveDays:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Max days allowed in a single request (0 = unlimited)"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Min Service Days (Probation)"}),s.jsx("input",{type:"number",min:"0",value:D.minServiceDays,onChange:e=>Z({...D,minServiceDays:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Employee must complete this many days to apply."})]}),(0,s.jsxs)("div",{className:"space-y-3 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"sandwich",type:"checkbox",checked:D.sandwichRule,onChange:e=>Z({...D,sandwichRule:e.target.checked}),className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"sandwich",className:"font-medium text-gray-700",children:"Sandwich Rule"}),s.jsx("p",{className:"text-gray-500",children:"If leave is taken on Friday & Monday, count Weekend as leave."})]})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"proof",type:"checkbox",checked:D.proofRequired,onChange:e=>Z({...D,proofRequired:e.target.checked}),className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"proof",className:"font-medium text-gray-700",children:"Proof Required"}),s.jsx("p",{className:"text-gray-500",children:"Require document upload (e.g. Medical Certificate)."})]})]})]}),(0,s.jsxs)("div",{className:"pt-4 border-t border-gray-100 space-y-4",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Advanced Conditions"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Advance Notice (Days)"}),s.jsx("input",{type:"number",min:"0",value:D.noticePeriod,onChange:e=>Z({...D,noticePeriod:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Trigger Notice If Days >"}),s.jsx("input",{type:"number",min:"0",value:D.minDaysForNotice,onChange:e=>Z({...D,minDaysForNotice:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"})]})]}),D.proofRequired&&(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Require Proof if Days >"}),s.jsx("input",{type:"number",min:"0",value:D.minDaysForProof,onChange:e=>Z({...D,minDaysForProof:parseInt(e.target.value)}),className:"block w-full rounded-md border-gray-300 focus:border-primary-500 focus:ring-primary-500 sm:text-sm p-2.5 border"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Example: Set 2 to require proof only for leaves longer than 2 days."})]}),(0,s.jsxs)("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex items-center h-5",children:s.jsx("input",{id:"calendarDays",type:"checkbox",checked:D.includeNonWorkingDays,onChange:e=>Z({...D,includeNonWorkingDays:e.target.checked}),className:"focus:ring-primary-500 h-4 w-4 text-primary-600 border-gray-300 rounded"})}),(0,s.jsxs)("div",{className:"ml-3 text-sm",children:[s.jsx("label",{htmlFor:"calendarDays",className:"font-medium text-gray-700",children:"Detailed Calendar Days"}),s.jsx("p",{className:"text-gray-500",children:"Count Holidays & Weekends as Leave Days (e.g. Bereavement)."})]})]})]})]}),"assignment"===w&&(0,s.jsxs)("div",{className:"space-y-6 animate-fadeIn",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Applicable Departments"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"If none selected, applies to ALL departments."}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border p-2 rounded-md bg-gray-50",children:u.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:D.departmentIds?.includes(e.id),onChange:()=>M(e.id,"departmentIds"),className:"rounded text-primary-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:e.name})]},e.id))})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:"Applicable Positions"}),s.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"If none selected, applies to ALL positions."}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-40 overflow-y-auto border p-2 rounded-md bg-gray-50",children:g.map(e=>(0,s.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-100 p-1 rounded",children:[s.jsx("input",{type:"checkbox",checked:D.positionIds?.includes(e.id),onChange:()=>M(e.id,"positionIds"),className:"rounded text-purple-600"}),s.jsx("span",{className:"text-sm text-gray-700",children:e.title})]},e.id))})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 p-6 border-t border-gray-100 bg-gray-50",children:[s.jsx("button",{type:"button",onClick:()=>N(!1),className:"py-2.5 px-4 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-white focus:outline-none transition-colors",children:"Cancel"}),s.jsx("button",{type:"submit",className:"py-2.5 px-6 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none transition-all transform hover:scale-[1.02]",children:C?"Update Policy":"Create Policy"})]})]})]})})]})})}},43989:(e,t,a)=>{"use strict";a.d(t,{p:()=>r});var s=a(92373);function r(){let{showToast:e}=(0,s.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},1660:(e,t,a)=>{"use strict";a.d(t,{N$:()=>c,NY:()=>l,Nt:()=>i,jU:()=>n,vm:()=>r});var s=a(18117);let r={checkIn:async e=>(await s.Z.post("/attendance-leave/check-in",e)).data,checkOut:async()=>(await s.Z.post("/attendance-leave/check-out")).data,getMyAttendance:async(e,t)=>(await s.Z.get("/attendance-leave/my-attendance",{params:{month:e,year:t}})).data,todayStatus:async()=>(await s.Z.get("/attendance-leave/today-status")).data,getAll:async e=>(await s.Z.get("/attendance-leave/all-attendance",{params:e})).data,getMusterRoll:async(e,t,a)=>(await s.Z.get("/attendance-leave/all-attendance",{params:{month:e,year:t,departmentId:a}})).data},n={getTypes:async()=>(await s.Z.get("/attendance-leave/leave-types")).data,create:async e=>(await s.Z.post("/attendance-leave/leaves",e)).data,uploadAttachment:async e=>(await s.Z.post("/attendance-leave/leaves/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data,getMyLeaves:async()=>(await s.Z.get("/attendance-leave/my-leaves")).data,getAllLeaves:async e=>(await s.Z.get("/attendance-leave/all-leaves",{params:{status:e}})).data,updateStatus:async(e,t)=>(await s.Z.put(`/attendance-leave/leaves/${e}/status`,{status:t})).data,calculateDays:async e=>(await s.Z.post("/attendance-leave/leaves/calculate",e)).data,getMyBalances:async()=>(await s.Z.get("/attendance-leave/my-balances")).data,getAllBalances:async e=>(await s.Z.get("/attendance-leave/all-balances",{params:e})).data},i={getAll:async e=>(await s.Z.get("/attendance-leave/holidays",{params:{year:e}})).data,create:async e=>(await s.Z.post("/attendance-leave/holidays",e)).data,delete:async e=>(await s.Z.delete(`/attendance-leave/holidays/${e}`)).data},l={getAll:async()=>(await s.Z.get("/attendance-leave/leave-types")).data,create:async e=>(await s.Z.post("/attendance-leave/leave-types",e)).data,update:async(e,t)=>(await s.Z.put(`/attendance-leave/leave-types/${e}`,t)).data,delete:async e=>(await s.Z.delete(`/attendance-leave/leave-types/${e}`)).data},c={getRoster:async(e,t,a)=>(await s.Z.get("/shift-rosters",{params:{startDate:e,endDate:t,departmentId:a}})).data,updateBatch:async e=>(await s.Z.post("/shift-rosters/batch",{assignments:e})).data}},68282:(e,t,a)=>{"use strict";a.d(t,{Rw:()=>n,WU:()=>r,rw:()=>i});var s=a(18117);let r={getAll:async()=>(await s.Z.get("/departments")).data,create:async e=>(await s.Z.post("/departments",e)).data,update:async(e,t)=>(await s.Z.put(`/departments/${e}`,t)).data,delete:async e=>(await s.Z.delete(`/departments/${e}`)).data},n={getAll:async e=>(await s.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await s.Z.post("/positions",e)).data,update:async(e,t)=>(await s.Z.put(`/positions/${e}`,t)).data,delete:async e=>(await s.Z.delete(`/positions/${e}`)).data},i={getAll:async e=>(await s.Z.get("/employees",{params:e})).data,getById:async e=>(await s.Z.get(`/employees/${e}`)).data,create:async e=>(await s.Z.post("/employees",e)).data,update:async(e,t)=>(await s.Z.put(`/employees/${e}`,t)).data,delete:async e=>(await s.Z.delete(`/employees/${e}`)).data,uploadDocument:async(e,t)=>(await s.Z.post(`/employees/${e}/documents`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},55794:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},75695:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},51838:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},61459:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]])},38271:(e,t,a)=>{"use strict";a.d(t,{Z:()=>s});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},22254:(e,t,a)=>{e.exports=a(14767)},54486:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>r,default:()=>i});let s=(0,a(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/leave-types/page.tsx`),{__esModule:r,$$typeof:n}=s,i=s.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[6291,1934,3553],()=>a(83110));module.exports=s})();