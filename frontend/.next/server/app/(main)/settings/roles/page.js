(()=>{var e={};e.id=1346,e.ids=[1346],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},52274:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(50482),i=t(69108),n=t(62563),o=t.n(n),a=t(68300),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);t.d(s,l);let c=["",{children:["(main)",{children:["settings",{children:["roles",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,43204)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/roles/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/roles/page.tsx"],u="/(main)/settings/roles/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(main)/settings/roles/page",pathname:"/settings/roles",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},13417:(e,s,t)=>{Promise.resolve().then(t.bind(t,14501))},14501:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(95344),i=t(43989),n=t(3729),o=t(20783),a=t.n(o),l=t(22254);function c(){let e=(0,i.p)(),[s,t]=(0,n.useState)([]),[o,c]=(0,n.useState)(!0);(0,l.useRouter)(),(0,n.useEffect)(()=>{d()},[]);let d=async()=>{try{let e=localStorage.getItem("token"),s=await fetch("http://localhost:5000/api/roles",{headers:{Authorization:`Bearer ${e}`}});if(s.ok){let e=await s.json();t(e)}}catch(e){console.error("Failed to fetch roles",e)}finally{c(!1)}};return(0,r.jsxs)("div",{className:"space-y-6 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Roles & Permissions"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage user roles and access control"})]}),r.jsx(a(),{href:"/settings/roles/create",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:"Create New Role"})]}),r.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,r.jsxs)("ul",{role:"list",className:"divide-y divide-gray-200",children:[s.map(e=>r.jsx("li",{children:(0,r.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[(0,r.jsxs)("div",{className:"min-w-0 flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex text-sm",children:[r.jsx("p",{className:"font-medium text-primary-600 truncate",children:e.name}),e.isSystem&&r.jsx("span",{className:"ml-2 flex-shrink-0 inline-block px-2 py-0.5 text-xs font-medium bg-gray-100 text-gray-800 rounded-full",children:"System Default"})]}),r.jsx("div",{className:"mt-2 flex",children:r.jsx("div",{className:"flex items-center text-sm text-gray-500",children:r.jsx("p",{className:"truncate",children:e.description||"No description"})})})]}),r.jsx("div",{className:"mt-4 flex-shrink-0 sm:mt-0 sm:ml-5",children:r.jsx("div",{className:"flex overflow-hidden -space-x-1",children:(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:[e._count?.userRoles||0," users assigned"]})})})]}),r.jsx("div",{className:"ml-5 flex-shrink-0",children:r.jsx(a(),{href:`/settings/roles/${e.id}`,className:"text-primary-600 hover:text-primary-900 font-medium",children:"Edit"})})]})},e.id)),!o&&0===s.length&&r.jsx("li",{className:"px-4 py-8 text-center text-gray-500",children:"No roles found. Create one to get started."})]})}),(0,r.jsxs)("div",{className:"mt-8 bg-blue-50 p-4 rounded-md",children:[r.jsx("h3",{className:"text-blue-800 font-medium",children:"Auto-Sync Permissions"}),r.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"If you deployed new modules, click below to sync system permissions."}),r.jsx("button",{onClick:async()=>{let s=localStorage.getItem("token");await fetch("http://localhost:5000/api/api/roles/sync-permissions",{method:"POST",headers:{Authorization:`Bearer ${s}`}}),e.info("Permissions Synced!")},className:"mt-2 text-sm bg-blue-100 text-blue-700 px-3 py-1 rounded border border-blue-200 hover:bg-blue-200",children:"Sync System Permissions"})]})]})}},43989:(e,s,t)=>{"use strict";t.d(s,{p:()=>i});var r=t(92373);function i(){let{showToast:e}=(0,r.useToastContext)();return{success:s=>e("success",s),error:s=>e("error",s),warning:s=>e("warning",s),info:s=>e("info",s)}}},22254:(e,s,t)=>{e.exports=t(14767)},43204:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>o});let r=(0,t(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/settings/roles/page.tsx`),{__esModule:i,$$typeof:n}=r,o=r.default}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[6291,1934,783,3553],()=>t(52274));module.exports=r})();