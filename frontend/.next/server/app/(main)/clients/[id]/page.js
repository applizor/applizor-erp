(()=>{var e={};e.id=5054,e.ids=[5054],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},66186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),l=s(68300),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["(main)",{children:["clients",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,80657)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/clients/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/clients/[id]/page.tsx"],x="/(main)/clients/[id]/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/clients/[id]/page",pathname:"/clients/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},41708:(e,t,s)=>{Promise.resolve().then(s.bind(s,72799))},72799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(95344),a=s(43989),i=s(3729),n=s(22254),l=s(78638),c=s(75695),d=s(38271),o=s(71206),x=s(40626),m=s(80508),p=s(37121),h=s(98026);function u({params:e}){let t=(0,a.p)(),s=(0,n.useRouter)(),[u,y]=(0,i.useState)(null),[g,v]=(0,i.useState)(!0),[j,f]=(0,i.useState)("overview");(0,i.useEffect)(()=>{b()},[e.id]);let b=async()=>{try{let t=localStorage.getItem("token"),s=await fetch(`http://localhost:5000/api/api/clients/${e.id}`,{headers:{Authorization:`Bearer ${t}`}});if(s.ok){let e=await s.json();y(e.client)}}catch(e){console.error("Failed to fetch client details")}finally{v(!1)}},N=async()=>{if(confirm("Are you sure you want to delete this client? This will remove all associated invoices and projects."))try{let r=localStorage.getItem("token");(await fetch(`http://localhost:5000/api/api/clients/${e.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${r}`}})).ok?s.push("/clients"):t.error("Failed to delete client")}catch(e){console.error(e)}};return g?r.jsx("div",{className:"p-8 text-center text-gray-500",children:"Loading client details..."}):u?(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden mb-6",children:[(0,r.jsxs)("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-12 w-12 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold text-xl mr-4",children:u.name.charAt(0)}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:u.name}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-500 mt-1 space-x-4",children:[(0,r.jsxs)("span",{className:"flex items-center text-gray-500 capitalize",children:[r.jsx(l.Z,{size:14,className:"mr-1"}),u.clientType]}),r.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${"active"===u.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:u.status})]})]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsxs)("button",{className:"flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:[r.jsx(c.Z,{size:16,className:"mr-2"})," Edit"]}),(0,r.jsxs)("button",{onClick:N,className:"flex items-center px-3 py-2 border border-transparent rounded-md text-sm font-medium text-white bg-red-600 hover:bg-red-700",children:[r.jsx(d.Z,{size:16,className:"mr-2"})," Delete"]})]})]}),(0,r.jsxs)("div",{className:"px-6 py-4 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(o.Z,{className:"text-gray-400 mt-1",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),r.jsx("p",{className:"text-sm text-gray-500",children:u.email||"-"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(x.Z,{className:"text-gray-400 mt-1",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),r.jsx("p",{className:"text-sm text-gray-500",children:u.phone||"-"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx(m.Z,{className:"text-gray-400 mt-1",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[u.address,", ",u.city,r.jsx("br",{}),u.state,", ",u.country," - ",u.pincode]})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-3",children:[r.jsx("div",{className:"font-bold text-gray-400 mt-1 text-sm border border-gray-400 rounded px-1",children:"TAX"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Tax Info"}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["GSTIN: ",u.gstin||"-"]}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["PAN: ",u.pan||"-"]})]})]})]})]}),r.jsx("div",{className:"border-b border-gray-200 mb-6",children:(0,r.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[r.jsx("button",{onClick:()=>f("overview"),className:`${"overview"===j?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Overview"}),r.jsx("button",{onClick:()=>f("invoices"),className:`${"invoices"===j?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Invoices"}),r.jsx("button",{onClick:()=>f("projects"),className:`${"projects"===j?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:"Projects"})]})}),(0,r.jsxs)("div",{className:"space-y-6",children:["invoices"===j&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Recent Invoices"})}),r.jsx("ul",{className:"divide-y divide-gray-200",children:u.invoices&&u.invoices.length>0?u.invoices.map(e=>(0,r.jsxs)("li",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(p.Z,{className:"text-gray-400 mr-3",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.invoiceNumber}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.invoiceDate).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:`px-2 text-xs font-semibold rounded-full ${"paid"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:e.status}),(0,r.jsxs)("span",{className:"text-sm font-bold text-gray-900",children:["$",Number(e.total).toLocaleString()]})]})]},e.id)):r.jsx("li",{className:"px-6 py-8 text-center text-gray-500",children:"No invoices found."})})]}),"projects"===j&&(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[r.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:r.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Active Projects"})}),r.jsx("ul",{className:"divide-y divide-gray-200",children:u.projects&&u.projects.length>0?u.projects.map(e=>(0,r.jsxs)("li",{className:"px-6 py-4 flex items-center justify-between hover:bg-gray-50",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(h.Z,{className:"text-gray-400 mr-3",size:20}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-xs text-gray-500",children:e.status})]})]}),r.jsx("span",{className:"text-sm font-bold text-gray-900",children:e.budget?`$${Number(e.budget).toLocaleString()}`:"TBD"})]},e.id)):r.jsx("li",{className:"px-6 py-8 text-center text-gray-500",children:"No active projects."})})]}),"overview"===j&&(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase tracking-wider",children:"Total Value"}),(0,r.jsxs)("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:["$",(u.invoices||[]).reduce((e,t)=>e+Number(t.total),0).toLocaleString()]})]}),(0,r.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[r.jsx("h3",{className:"text-gray-500 text-sm font-medium uppercase tracking-wider",children:"Open Invoices"}),r.jsx("div",{className:"mt-2 text-3xl font-bold text-gray-900",children:(u.invoices||[]).filter(e=>"paid"!==e.status).length})]})]})]})]}):r.jsx("div",{className:"p-8 text-center text-red-500",children:"Client not found"})}},43989:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(92373);function a(){let{showToast:e}=(0,r.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},98026:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},78638:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]])},37121:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},71206:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},80508:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},75695:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},40626:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},38271:(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(69224).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},22254:(e,t,s)=>{e.exports=s(14767)},80657:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/clients/[id]/page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,3553],()=>s(66186));module.exports=r})();