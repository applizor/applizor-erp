(()=>{var e={};e.id=8217,e.ids=[8217],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},48470:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(50482),a=s(69108),i=s(62563),n=s.n(i),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["(main)",{children:["hrms",{children:["positions",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15258)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/positions/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,29339)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/positions/page.tsx"],u="/(main)/hrms/positions/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/hrms/positions/page",pathname:"/hrms/positions",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},53318:(e,t,s)=>{Promise.resolve().then(s.bind(s,94226))},32463:(e,t,s)=>{Promise.resolve().then(s.bind(s,93290))},94226:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(95344),a=s(3729),i=s(22254);function n({children:e}){return(0,i.usePathname)(),(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Human Resource Management"}),r.jsx("div",{className:"mt-6",children:r.jsx(a.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:e})})]})}},93290:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(95344),a=s(3729),i=s(22254),n=s(68282),o=s(43989),l=s(95252);function d(){(0,i.useRouter)();let e=(0,o.p)(),[t,s]=(0,a.useState)([]),[d,c]=(0,a.useState)([]),[u,p]=(0,a.useState)(!0),[m,x]=(0,a.useState)(!1),[h,y]=(0,a.useState)(!1),[f,g]=(0,a.useState)({title:"",departmentId:"",description:"",isActive:!0}),[b,v]=(0,a.useState)(!1),[j,w]=(0,a.useState)("");(0,a.useEffect)(()=>{N()},[j]);let N=async()=>{try{p(!0);let[e,t]=await Promise.all([n.Rw.getAll(j||void 0),n.WU.getAll()]);s(e),c(t)}catch(e){console.error("Failed to load data:",e)}finally{p(!1)}},P=e=>{g(e),v(!0),y(!0)},q=async t=>{if(confirm("Are you sure you want to delete this position?"))try{await n.Rw.delete(t),e.success("Position deleted successfully"),N()}catch(t){e.error(t.response?.data?.error||"Failed to delete position")}},A=async t=>{t.preventDefault();try{x(!0),b&&f.id?(await n.Rw.update(f.id,f),e.success("Position updated successfully")):(await n.Rw.create(f),e.success("Position created successfully")),y(!1),_(),N()}catch(t){e.error(t.response?.data?.error||"Failed to save position")}finally{x(!1)}},_=()=>{g({title:"",departmentId:"",description:"",isActive:!0}),v(!1)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Positions"}),(0,r.jsxs)("select",{value:j,onChange:e=>w(e.target.value),className:"border-gray-300 rounded-md shadow-sm text-sm focus:ring-primary-500 focus:border-primary-500",children:[r.jsx("option",{value:"",children:"All Departments"}),d.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),r.jsx("button",{onClick:()=>{_(),y(!0)},className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 text-sm",children:"+ Add Position"})]}),u?r.jsx("div",{className:"text-center py-8",children:"Loading..."}):0===t.length?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No positions found."}):r.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:r.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("li",{className:"px-6 py-4 hover:bg-gray-50 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-md font-medium text-gray-900",children:e.title}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:[r.jsx("span",{className:"font-semibold",children:e.department?.name}),e.description&&` - ${e.description}`]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500 text-right mr-4",children:[e._count?.employees||0," Employees"]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>P(e),className:"text-primary-600 hover:text-primary-900 text-sm font-medium",children:"Edit"}),r.jsx("button",{onClick:()=>q(e.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"})]})]})]},e.id))})}),h&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:r.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:b?"Edit Position":"Add Position"}),(0,r.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department *"}),(0,r.jsxs)("select",{required:!0,value:f.departmentId,onChange:e=>g({...f,departmentId:e.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[r.jsx("option",{value:"",children:"Select Department"}),d.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Position Title *"}),r.jsx("input",{type:"text",required:!0,value:f.title,onChange:e=>g({...f,title:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{value:f.description||"",onChange:e=>g({...f,description:e.target.value}),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),b&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{id:"isActive",type:"checkbox",checked:f.isActive,onChange:e=>g({...f,isActive:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>y(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:m,className:"inline-flex items-center space-x-2 justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[m&&r.jsx(l.T,{size:"sm"}),r.jsx("span",{children:m?"Saving...":b?"Save Changes":"Create Position"})]})]})]})]})})})]})}},95252:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(95344);function a({size:e="md",className:t=""}){return r.jsx("div",{className:`${{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"}[e]} animate-spin rounded-full border-gray-300 border-t-primary-600 ${t}`,role:"status","aria-label":"Loading",children:r.jsx("span",{className:"sr-only",children:"Loading..."})})}},43989:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(92373);function a(){let{showToast:e}=(0,r.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},68282:(e,t,s)=>{"use strict";s.d(t,{Rw:()=>i,WU:()=>a,rw:()=>n});var r=s(18117);let a={getAll:async()=>(await r.Z.get("/departments")).data,create:async e=>(await r.Z.post("/departments",e)).data,update:async(e,t)=>(await r.Z.put(`/departments/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/departments/${e}`)).data},i={getAll:async e=>(await r.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await r.Z.post("/positions",e)).data,update:async(e,t)=>(await r.Z.put(`/positions/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/positions/${e}`)).data},n={getAll:async e=>(await r.Z.get("/employees",{params:e})).data,getById:async e=>(await r.Z.get(`/employees/${e}`)).data,create:async e=>(await r.Z.post("/employees",e)).data,update:async(e,t)=>(await r.Z.put(`/employees/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/employees/${e}`)).data,uploadDocument:async(e,t)=>(await r.Z.post(`/employees/${e}/documents`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},22254:(e,t,s)=>{e.exports=s(14767)},29339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/layout.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default},15258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/positions/page.tsx`),{__esModule:a,$$typeof:i}=r,n=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,3553],()=>s(48470));module.exports=r})();