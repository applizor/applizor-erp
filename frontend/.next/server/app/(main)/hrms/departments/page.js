(()=>{var e={};e.id=421,e.ids=[421],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},44026:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>l,routeModule:()=>p,tree:()=>c});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);s.d(t,d);let c=["",{children:["(main)",{children:["hrms",{children:["departments",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,96905)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/departments/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,29339)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,22758)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,12962)),"/Users/arun/Documents/applizor-softech-erp/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,69361,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/departments/page.tsx"],u="/(main)/hrms/departments/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(main)/hrms/departments/page",pathname:"/hrms/departments",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23066:(e,t,s)=>{Promise.resolve().then(s.bind(s,39258))},53318:(e,t,s)=>{Promise.resolve().then(s.bind(s,94226))},39258:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(95344),a=s(3729),n=s(22254),i=s(68282),o=s(43989),d=s(95252);function c(){(0,n.useRouter)();let e=(0,o.p)(),[t,s]=(0,a.useState)([]),[c,l]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[p,x]=(0,a.useState)(!1),[h,y]=(0,a.useState)({name:"",description:"",isActive:!0}),[f,g]=(0,a.useState)(!1);(0,a.useEffect)(()=>{b()},[]);let b=async()=>{try{l(!0);let e=await i.WU.getAll();s(e)}catch(e){console.error("Failed to load departments:",e)}finally{l(!1)}},v=e=>{y(e),g(!0),x(!0)},j=async t=>{if(confirm("Are you sure you want to delete this department?"))try{await i.WU.delete(t),e.success("Department deleted successfully"),b()}catch(t){e.error(t.response?.data?.error||"Failed to delete department")}},w=async t=>{t.preventDefault();try{m(!0),f&&h.id?(await i.WU.update(h.id,h),e.success("Department updated successfully")):(await i.WU.create(h),e.success("Department created successfully")),x(!1),N(),b()}catch(t){e.error(t.response?.data?.error||"Failed to save department")}finally{m(!1)}},N=()=>{y({name:"",description:"",isActive:!0}),g(!1)};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Departments"}),r.jsx("button",{onClick:()=>{N(),x(!0)},className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 text-sm",children:"+ Add Department"})]}),c?r.jsx("div",{className:"text-center py-8",children:"Loading..."}):0===t.length?r.jsx("div",{className:"text-center py-8 text-gray-500",children:"No departments found. Create one to get started."}):r.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:r.jsx("ul",{className:"divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("li",{className:"px-6 py-4 hover:bg-gray-50 flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"text-md font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"text-sm text-gray-500",children:e.description||"No description"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-sm text-gray-500 text-right mr-4",children:[(0,r.jsxs)("div",{children:[e._count?.employees||0," Employees"]}),(0,r.jsxs)("div",{children:[e._count?.positions||0," Positions"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[r.jsx("button",{onClick:()=>v(e),className:"text-primary-600 hover:text-primary-900 text-sm font-medium",children:"Edit"}),r.jsx("button",{onClick:()=>j(e.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:"Delete"})]})]})]},e.id))})}),p&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:r.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("h3",{className:"text-lg font-bold mb-4",children:f?"Edit Department":"Add Department"}),(0,r.jsxs)("form",{onSubmit:w,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Department Name *"}),r.jsx("input",{type:"text",required:!0,value:h.name,onChange:e=>y({...h,name:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),r.jsx("textarea",{value:h.description||"",onChange:e=>y({...h,description:e.target.value}),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),f&&(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("input",{id:"isActive",type:"checkbox",checked:h.isActive,onChange:e=>y({...h,isActive:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),r.jsx("label",{htmlFor:"isActive",className:"ml-2 block text-sm text-gray-900",children:"Active"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[r.jsx("button",{type:"button",onClick:()=>x(!1),className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,r.jsxs)("button",{type:"submit",disabled:u,className:"inline-flex items-center space-x-2 justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[u&&r.jsx(d.T,{size:"sm"}),r.jsx("span",{children:u?"Saving...":f?"Save Changes":"Create Department"})]})]})]})]})})})]})}},94226:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(95344),a=s(3729),n=s(22254);function i({children:e}){return(0,n.usePathname)(),(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Human Resource Management"}),r.jsx("div",{className:"mt-6",children:r.jsx(a.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:e})})]})}},95252:(e,t,s)=>{"use strict";s.d(t,{T:()=>a});var r=s(95344);function a({size:e="md",className:t=""}){return r.jsx("div",{className:`${{sm:"h-4 w-4 border-2",md:"h-8 w-8 border-2",lg:"h-12 w-12 border-3"}[e]} animate-spin rounded-full border-gray-300 border-t-primary-600 ${t}`,role:"status","aria-label":"Loading",children:r.jsx("span",{className:"sr-only",children:"Loading..."})})}},43989:(e,t,s)=>{"use strict";s.d(t,{p:()=>a});var r=s(92373);function a(){let{showToast:e}=(0,r.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},68282:(e,t,s)=>{"use strict";s.d(t,{Rw:()=>n,WU:()=>a,rw:()=>i});var r=s(18117);let a={getAll:async()=>(await r.Z.get("/departments")).data,create:async e=>(await r.Z.post("/departments",e)).data,update:async(e,t)=>(await r.Z.put(`/departments/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/departments/${e}`)).data},n={getAll:async e=>(await r.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await r.Z.post("/positions",e)).data,update:async(e,t)=>(await r.Z.put(`/positions/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/positions/${e}`)).data},i={getAll:async e=>(await r.Z.get("/employees",{params:e})).data,getById:async e=>(await r.Z.get(`/employees/${e}`)).data,create:async e=>(await r.Z.post("/employees",e)).data,update:async(e,t)=>(await r.Z.put(`/employees/${e}`,t)).data,delete:async e=>(await r.Z.delete(`/employees/${e}`)).data,uploadDocument:async(e,t)=>(await r.Z.post(`/employees/${e}/documents`,t,{headers:{"Content-Type":"multipart/form-data"}})).data}},22254:(e,t,s)=>{e.exports=s(14767)},96905:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/departments/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},29339:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/hrms/layout.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[6291,1934,3553],()=>s(44026));module.exports=r})();