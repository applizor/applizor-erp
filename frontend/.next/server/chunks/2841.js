exports.id=2841,exports.ids=[2841],exports.modules={17738:(e,t,a)=>{Promise.resolve().then(a.bind(a,43546))},43546:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var r=a(95344),n=a(3729),s=a(22254),o=a(73050),i=a(67857),l=a(20783),c=a.n(l),m=a(2273),d=a(89895),u=a(33517),h=a(98026),f=a(85674),p=a(38330),x=a(21096),y=a(88534),g=a(15786),v=a(45777),b=a(56857),w=a(37121),N=a(1960),j=a(16469),R=a(83606),Z=a(98200),S=a(48120),L=a(65489);function C(){let e=(0,s.usePathname)(),{user:t}=(0,i.a)(),[a,o]=(0,n.useState)(!1),l=[{name:"Dashboard",href:"/dashboard",icon:m.Z,category:"Main"},{name:"Employees",href:"/hrms/employees",icon:d.Z,category:"HRMS",module:"Employee"},{name:"Departments",href:"/hrms/departments",icon:u.Z,category:"HRMS",module:"Department",action:"update"},{name:"Positions",href:"/hrms/positions",icon:h.Z,category:"HRMS",module:"Position",action:"update"},{name:"Assets",href:"/hrms/assets",icon:f.Z,category:"HRMS",module:"Asset"},{name:"Attendance",href:"/attendance/my-attendance",icon:p.Z,category:"HRMS",module:"Attendance"},{name:"Holidays",href:"/attendance/holidays",icon:p.Z,category:"HRMS",module:"Holiday"},{name:"My Leaves",href:"/attendance/leaves",icon:h.Z,category:"HRMS",module:"Leave"},{name:"Leave Approvals",href:"/attendance/leaves/approvals",icon:p.Z,category:"HRMS",module:"Leave",action:"update"},{name:"Leave Balances",href:"/attendance/leaves/balances",icon:x.Z,category:"HRMS",module:"LeaveBalance"},{name:"Shifts",href:"/attendance/shifts",icon:y.Z,category:"HRMS",module:"Shift",action:"update"},{name:"Shift Roster",href:"/attendance/roster",icon:p.Z,category:"HRMS",module:"ShiftRoster"},{name:"All Attendance",href:"/attendance/admin",icon:d.Z,category:"HRMS",module:"Attendance"},{name:"Leave Types",href:"/hrms/leaves/types",icon:u.Z,category:"HRMS",module:"LeaveType",action:"update"},{name:"Roles & Permissions",href:"/settings/roles",icon:g.Z,category:"Settings",module:"Role"},{name:"Job Openings",href:"/recruitment/jobs",icon:h.Z,category:"Recruitment",module:"Recruitment"},{name:"Kanban Board",href:"/recruitment/board",icon:m.Z,category:"Recruitment",module:"Recruitment"},{name:"Interviews",href:"/recruitment/interviews",icon:v.Z,category:"Recruitment",module:"Recruitment"},{name:"Leads",href:"/leads",icon:b.Z,category:"CRM",module:"Lead"},{name:"Clients",href:"/clients",icon:d.Z,category:"CRM",module:"Client"},{name:"Quotations",href:"/quotations",icon:w.Z,category:"CRM",module:"Lead"},{name:"Templates",href:"/quotations/templates",icon:N.Z,category:"CRM",module:"QuotationTemplate"},{name:"Invoices",href:"/invoices",icon:w.Z,category:"Finance",module:"Invoice"},{name:"Run Payroll",href:"/payroll/run",icon:j.Z,category:"Finance",module:"Payroll"},{name:"Salary Components",href:"/payroll/components",icon:u.Z,category:"Finance",module:"Payroll"},{name:"Payslips",href:"/payroll/payslips",icon:R.Z,category:"Finance",module:"Payroll"},{name:"Accounting",href:"/accounting",icon:y.Z,category:"Finance",module:"Invoice"},{name:"Documents",href:"/documents",icon:w.Z,category:"Operations",module:"Document"},{name:"Company Settings",href:"/settings/company",icon:h.Z,category:"Settings",module:"Company"}],{can:C}=(0,L.g)(),M=l.filter(e=>{if(!t)return!1;if("Dashboard"===e.name||!e.module&&!e.role)return!0;let a=t.roles?.some(e=>"admin"===e.toLowerCase()||"administrator"===e.toLowerCase());if(e.role&&!t.roles?.includes(e.role)&&!a)return!1;if(e.module){let a=e.module;if(!C(a,e.action||"read"))return!1;if("All Attendance"===e.name){let e=t?.permissions?.[a];if(e?.readLevel==="owned")return!1}if("Leave Approvals"===e.name){let e=t?.permissions?.[a];if(e?.updateLevel==="owned"||e?.updateLevel==="none")return!1}}return!0}).reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"md:hidden bg-white shadow-sm p-4 flex justify-between items-center fixed w-full z-20 top-0",children:[r.jsx("span",{className:"text-xl font-bold text-gray-800",children:"Applizor ERP"}),r.jsx("button",{onClick:()=>o(!a),className:"p-2 text-gray-600",children:r.jsx(Z.Z,{})})]}),r.jsx("div",{className:`
                fixed inset-y-0 left-0 z-10 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out font-sans
                ${a?"translate-x-0":"-translate-x-full"}
                md:translate-x-0 md:static md:inset-auto md:h-screen
            `,children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[r.jsx("div",{className:"h-16 flex items-center px-6 bg-slate-950",children:r.jsx("h1",{className:"text-xl font-bold tracking-wider",children:"Applizor ERP"})}),r.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:Object.entries(M).map(([t,a])=>(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"px-6 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:t}),r.jsx("nav",{className:"space-y-1 px-3",children:a.map(t=>{let a=e===t.href||"/dashboard"!==t.href&&e?.startsWith(t.href+"/");return(0,r.jsxs)(c(),{href:t.href,className:`
                                                    group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150
                                                    ${a?"bg-primary-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}
                                                `,onClick:()=>o(!1),children:[r.jsx(t.icon,{className:`mr-3 h-5 w-5 flex-shrink-0 ${a?"text-white":"text-slate-400 group-hover:text-white"}`}),t.name]},t.name)})})]},t))}),r.jsx("div",{className:"bg-slate-950 p-4 border-t border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0",children:(0,r.jsxs)("div",{className:"h-8 w-8 rounded-full bg-slate-700 flex items-center justify-center text-sm font-bold text-white",children:[t?.firstName?.[0],t?.lastName?.[0]]})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:[t?.firstName," ",t?.lastName]}),r.jsx("p",{className:"text-xs text-slate-400",children:"View Profile"})]}),r.jsx("button",{onClick:()=>{i.I.logout(),window.location.href="/login"},className:"ml-auto p-1.5 text-slate-400 hover:text-white rounded-md hover:bg-slate-800",title:"Logout",children:r.jsx(S.Z,{className:"h-5 w-5"})})]})})]})}),a&&r.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-0 md:hidden",onClick:()=>o(!1)})]})}function M({children:e}){let t=(0,s.useRouter)(),[a,l]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{l(!0),i.I.isAuthenticated()||t.push("/login")},[t]),a)?r.jsx(o.T,{children:(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[r.jsx(C,{}),r.jsx("div",{className:"flex-1 flex flex-col md:overflow-hidden",children:r.jsx("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4 md:p-8 mt-14 md:mt-0",children:e})})]})}):null}},73050:(e,t,a)=>{"use strict";a.d(t,{T:()=>i,U:()=>l});var r=a(95344),n=a(3729),s=a(18117);let o=(0,n.createContext)(void 0),i=({children:e})=>{let[t,a]=(0,n.useState)("USD"),[i,l]=(0,n.useState)(!0),c=async()=>{try{if(localStorage.getItem("token")){let e=await s.Z.get("/company");e.data?.company?.currency&&a(e.data.company.currency)}}catch(e){console.error("Failed to fetch currency settings",e)}finally{l(!1)}};(0,n.useEffect)(()=>{c()},[]);let m="INR"===t?"â‚¹":"$";return r.jsx(o.Provider,{value:{currency:t,symbol:m,formatCurrency:e=>{if(null==e||""===e)return`${m}0.00`;let a=Number(e);return isNaN(a)?`${m}0.00`:new Intl.NumberFormat("INR"===t?"en-IN":"en-US",{style:"currency",currency:t,minimumFractionDigits:2}).format(a)},refreshCurrency:c,loading:i},children:e})},l=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},65489:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var r=a(67857);let n=()=>{let{user:e}=(0,r.a)();return{can:(t,a)=>{if(!e)return!1;if(e.roles?.some(e=>"admin"===e.toLowerCase()||"administrator"===e.toLowerCase()))return!0;if(!e.permissions)return!1;let r=e.permissions[t];if(!r)return!1;let n="none";switch(a){case"create":n=r.createLevel;break;case"read":n=r.readLevel;break;case"update":n=r.updateLevel;break;case"delete":n=r.deleteLevel}return"none"!==n&&void 0!==n},getScope:(t,a)=>{if(!e||!e.permissions||!e.permissions[t])return"none";if(e.roles?.some(e=>"admin"===e.toLowerCase()))return"all";let r=e.permissions[t],n="none";switch(a){case"create":n=r.createLevel;break;case"read":n=r.readLevel;break;case"update":n=r.updateLevel;break;case"delete":n=r.deleteLevel}return n},user:e}}},22758:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>s,__esModule:()=>n,default:()=>o});let r=(0,a(86843).createProxy)(String.raw`/Users/arun/Documents/applizor-softech-erp/frontend/app/(main)/layout.tsx`),{__esModule:n,$$typeof:s}=r,o=r.default}};