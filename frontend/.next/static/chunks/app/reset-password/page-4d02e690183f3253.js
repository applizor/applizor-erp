(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2363],{18185:function(e,s,r){Promise.resolve().then(r.bind(r,18827))},18827:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return n}});var t=r(57437),a=r(2265),o=r(24033);function n(e){let{searchParams:s}=e,r=(0,o.useRouter)(),[n,i]=(0,a.useState)(""),[d,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[m,f]=(0,a.useState)(!1),[p,x]=(0,a.useState)("");s.then(e=>{e.token&&i(e.token)});let h=async e=>{if(e.preventDefault(),d!==c){x("Passwords do not match");return}f(!0),x("");try{let e=await fetch("".concat("http://localhost:5000/api","/api/auth/reset-password"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:n,newPassword:d})}),s=await e.json();e.ok?(x("Password reset successful! Redirecting to login..."),setTimeout(()=>r.push("/login"),2e3)):x(s.error||"Failed to reset password")}catch(e){x("An error occurred. Please try again.")}finally{f(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Set new password"})}),(0,t.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,t.jsxs)("form",{className:"space-y-6",onSubmit:h,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"New Password"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:d,onChange:e=>l(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),(0,t.jsx)("div",{className:"mt-1",children:(0,t.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,value:c,onChange:e=>u(e.target.value),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})})]}),p&&(0,t.jsx)("div",{className:"p-4 rounded-md text-sm ".concat(p.includes("successful")?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:p}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:m,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:m?"Resetting...":"Reset Password"})})]})})})]})}},30622:function(e,s,r){"use strict";var t=r(2265),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function l(e,s,r){var t,o={},l=null,c=null;for(t in void 0!==r&&(l=""+r),void 0!==s.key&&(l=""+s.key),void 0!==s.ref&&(c=s.ref),s)n.call(s,t)&&!d.hasOwnProperty(t)&&(o[t]=s[t]);if(e&&e.defaultProps)for(t in s=e.defaultProps)void 0===o[t]&&(o[t]=s[t]);return{$$typeof:a,type:e,key:l,ref:c,props:o,_owner:i.current}}s.Fragment=o,s.jsx=l,s.jsxs=l},57437:function(e,s,r){"use strict";e.exports=r(30622)},24033:function(e,s,r){e.exports=r(15313)}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=18185)}),_N_E=e.O()}]);