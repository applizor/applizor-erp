(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7426],{44559:function(e,s,t){Promise.resolve().then(t.bind(t,94689))},94689:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var r=t(57437),a=t(2265),o=t(24033),n=t(10826);function l(){let e=(0,o.useRouter)(),[s,t]=(0,a.useState)({email:"",password:""}),[l,i]=(0,a.useState)(""),[d,c]=(0,a.useState)(!1),m=async t=>{t.preventDefault(),c(!0),i("");let{email:r,password:a}=s;try{let s=await n.Z.post("/portal/login",{email:r,password:a});localStorage.setItem("token",s.data.token),e.push("/portal/dashboard")}catch(e){var o,l;i((null===(l=e.response)||void 0===l?void 0:null===(o=l.data)||void 0===o?void 0:o.error)||"Login failed")}finally{c(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[(0,r.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Client Portal Login"}),(0,r.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Access your invoices and projects"})]}),(0,r.jsx)("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:(0,r.jsx)("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:(0,r.jsxs)("form",{className:"space-y-6",onSubmit:m,children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:s.email,onChange:e=>t({...s,email:e.target.value}),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,r.jsx)("div",{className:"mt-1",children:(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:s.password,onChange:e=>t({...s,password:e.target.value}),className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),l&&(0,r.jsx)("div",{className:"text-red-600 text-sm text-center",children:l}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:d?"Signing in...":"Sign in"})})]})})})]})}},10826:function(e,s,t){"use strict";let r=t(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let s=localStorage.getItem("token");s&&(e.headers.Authorization="Bearer ".concat(s))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var s;return(null===(s=e.response)||void 0===s?void 0:s.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),s.Z=r},24033:function(e,s,t){e.exports=t(15313)}},function(e){e.O(0,[4737,2971,4938,1744],function(){return e(e.s=44559)}),_N_E=e.O()}]);