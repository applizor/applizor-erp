(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5054],{96142:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,t(62898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},22917:function(e,s,t){Promise.resolve().then(t.bind(t,24208))},24208:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return v}});var a=t(57437),l=t(2265),n=t(24033),i=t(61396),d=t.n(i),r=t(73067),c=t(49617),m=t(45367),x=t(1295),o=t(96142),h=t(98253),g=t(28203),u=t(9080),j=t(61153),y=t(43206),f=t(1327),N=t(61079),p=t(7319);function v(){var e;let s=(0,n.useRouter)(),t=(0,n.useParams)(),i=(0,j.p)(),{can:v}=(0,y.g)(),[b,w]=(0,l.useState)(null),[C,Z]=(0,l.useState)(!0),[k,S]=(0,l.useState)(!1),[T,z]=(0,l.useState)(!1);(0,l.useEffect)(()=>{t.id&&A(t.id)},[t.id]);let A=async e=>{try{let s=await u.t.getById(e);w(s.client||s)}catch(e){var t,a;i.error((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.error)||"Failed to load client"),s.push("/clients")}finally{Z(!1)}},D=async()=>{if(b){z(!0);try{await u.t.delete(b.id),i.success("Client deleted successfully"),s.push("/clients")}catch(s){var e,t;i.error((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.error)||"Failed to delete client"),z(!1)}}};return C?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsx)(p.T,{size:"lg"})}):b?(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)(d(),{href:"/clients",className:"inline-flex items-center text-sm text-gray-500 hover:text-gray-700 mb-4",children:[(0,a.jsx)(r.Z,{size:16,className:"mr-1"}),"Back to Clients"]}),(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-16 w-16 bg-primary-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-primary-600 font-bold text-2xl",children:(null===(e=b.name)||void 0===e?void 0:e.charAt(0).toUpperCase())||"C"})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:b.name}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat({customer:"bg-blue-100 text-blue-800",vendor:"bg-purple-100 text-purple-800",partner:"bg-green-100 text-green-800"}[b.clientType]||"bg-gray-100 text-gray-800"),children:b.clientType}),(0,a.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("active"===b.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:b.status})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.n,{module:"Client",action:"update",children:(0,a.jsxs)(d(),{href:"/clients/".concat(b.id,"/edit"),className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors",children:[(0,a.jsx)(c.Z,{size:16,className:"mr-2"}),"Edit"]})}),(0,a.jsx)(f.n,{module:"Client",action:"delete",children:(0,a.jsxs)("button",{onClick:()=>S(!0),className:"inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 transition-colors",children:[(0,a.jsx)(m.Z,{size:16,className:"mr-2"}),"Delete"]})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(x.Z,{className:"mr-2 text-primary-600",size:20}),"Contact Information"]}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.email||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.phone||"-"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(o.Z,{className:"mr-2 text-primary-600",size:20}),"Address"]}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Street Address"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.address||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"City"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.city||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"State"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.state||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Country"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.country||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Pincode"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.pincode||"-"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(h.Z,{className:"mr-2 text-primary-600",size:20}),"Business Details"]}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"GSTIN"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 font-mono",children:b.gstin||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"PAN"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 font-mono",children:b.pan||"-"})]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Quick Stats"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Total Quotations"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"0"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Total Invoices"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-gray-900",children:"0"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-500",children:"Outstanding"}),(0,a.jsx)("span",{className:"text-lg font-semibold text-green-600",children:"â‚¹0"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,a.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,a.jsx)(g.Z,{className:"mr-2 text-primary-600",size:20}),"Information"]}),(0,a.jsxs)("dl",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(b.createdAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(b.updatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]})]}),(0,a.jsx)(N.Q,{isOpen:k,onClose:()=>S(!1),onConfirm:D,title:"Delete Client",message:'Are you sure you want to delete "'.concat(b.name,'"? This action cannot be undone.'),confirmText:"Delete",cancelText:"Cancel",type:"danger",isLoading:T})]}):null}},9080:function(e,s,t){"use strict";t.d(s,{t:function(){return l}});var a=t(10826);let l={getAll:async e=>(await a.Z.get("/clients",{params:e})).data,getById:async e=>(await a.Z.get("/clients/".concat(e))).data,create:async e=>(await a.Z.post("/clients",e)).data,update:async(e,s)=>(await a.Z.put("/clients/".concat(e),s)).data,delete:async e=>(await a.Z.delete("/clients/".concat(e))).data}}},function(e){e.O(0,[4737,1396,1888,2971,4938,1744],function(){return e(e.s=22917)}),_N_E=e.O()}]);