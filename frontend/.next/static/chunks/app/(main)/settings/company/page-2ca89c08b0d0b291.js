(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2252],{62898:function(e,r,t){"use strict";t.d(r,{Z:function(){return o}});var s=t(2265),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,r)=>{let t=(0,s.forwardRef)(({color:t="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:c="",children:d,...m},u)=>(0,s.createElement)("svg",{ref:u,...a,width:o,height:o,stroke:t,strokeWidth:i?24*Number(n)/Number(o):n,className:["lucide",`lucide-${l(e)}`,c].join(" "),...m},[...r.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},71738:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},28956:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},96142:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},92295:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,t(62898).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},68724:function(e,r,t){Promise.resolve().then(t.bind(t,64700))},64700:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return m}});var s=t(57437),a=t(61153),l=t(2265);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,t(62898).Z)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var n=t(96142),i=t(28956),c=t(71738),d=t(92295);function m(){let e=(0,a.p)(),[r,t]=(0,l.useState)(null),[m,u]=(0,l.useState)(!0),[x,h]=(0,l.useState)(null),[f,g]=(0,l.useState)(null),[p,y]=(0,l.useState)(!1),b=()=>"http://localhost:5000/api".replace(/\/api$/,"");(0,l.useEffect)(()=>{v()},[]);let v=async()=>{try{let e=localStorage.getItem("token"),r=await fetch("".concat("http://localhost:5000/api","/company"),{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){let e=await r.json();t(e.company),e.company.logo&&g("".concat(b()).concat(e.company.logo))}}catch(r){console.error("Failed to fetch company details"),e.error("Failed to load company details")}finally{u(!1)}},j=async()=>{if(x){y(!0);try{let r=new FormData;r.append("logo",x);let t=localStorage.getItem("token");(await fetch("".concat("http://localhost:5000/api","/company/logo"),{method:"PUT",headers:{Authorization:"Bearer ".concat(t)},body:r})).ok?(e.success("Logo updated successfully!"),v(),h(null)):e.error("Failed to update logo")}catch(r){console.error("Logo upload error",r),e.error("Error uploading logo")}finally{y(!1)}}},N=async t=>{t.preventDefault();try{let t=localStorage.getItem("token");(await fetch("".concat("http://localhost:5000/api","/company"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(r)})).ok?e.success("Company profile updated successfully!"):e.error("Failed to update profile")}catch(r){console.error(r),e.error("An error occurred while saving")}};return m?(0,s.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold mb-8 text-gray-900 border-b pb-4",children:"Company Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,s.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(o,{className:"w-5 h-5 mr-2 text-gray-500"}),"Logo"]}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-32 w-32 border border-gray-200 rounded-lg overflow-hidden flex items-center justify-center bg-gray-50 mb-4",children:f?(0,s.jsx)("img",{src:f,alt:"Company Logo",className:"h-full w-full object-contain"}):(0,s.jsx)("span",{className:"text-gray-400 text-sm",children:"No Logo"})}),(0,s.jsxs)("label",{className:"block w-full",children:[(0,s.jsx)("span",{className:"sr-only",children:"Choose logo"}),(0,s.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=e.target.files[0];h(r),g(URL.createObjectURL(r))}},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100 cursor-pointer"})]}),x&&(0,s.jsx)("button",{onClick:j,disabled:p,className:"mt-4 w-full px-4 py-2 bg-primary-600 text-white text-sm font-medium rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:p?"Uploading...":"Save Logo"})]})]})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsxs)("form",{onSubmit:N,className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(o,{className:"w-5 h-5 mr-2 text-gray-500"}),"Basic Information"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Display Name"}),(0,s.jsx)("input",{type:"text",required:!0,value:r.name||"",onChange:e=>t({...r,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Legal Name"}),(0,s.jsx)("input",{type:"text",value:r.legalName||"",onChange:e=>t({...r,legalName:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email Address"}),(0,s.jsx)("input",{type:"email",value:r.email||"",onChange:e=>t({...r,email:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),(0,s.jsx)("input",{type:"text",value:r.phone||"",onChange:e=>t({...r,phone:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]}),(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(n.Z,{className:"w-5 h-5 mr-2 text-gray-500"}),"Location"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,s.jsx)("textarea",{rows:2,value:r.address||"",onChange:e=>t({...r,address:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,s.jsx)("input",{type:"text",value:r.city||"",onChange:e=>t({...r,city:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,s.jsx)("input",{type:"text",value:r.state||"",onChange:e=>t({...r,state:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pincode"}),(0,s.jsx)("input",{type:"text",value:r.pincode||"",onChange:e=>t({...r,pincode:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,s.jsx)("input",{type:"text",value:r.country||"India",onChange:e=>t({...r,country:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]})]}),(0,s.jsxs)("div",{className:"p-6",children:[(0,s.jsxs)("h2",{className:"text-lg font-medium text-gray-900 mb-4 flex items-center",children:[(0,s.jsx)(i.Z,{className:"w-5 h-5 mr-2 text-gray-500"}),"Business Details"]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Currency"}),(0,s.jsxs)("div",{className:"mt-1 flex rounded-md shadow-sm",children:[(0,s.jsx)("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 sm:text-sm",children:(0,s.jsx)(c.Z,{className:"h-4 w-4"})}),(0,s.jsxs)("select",{value:r.currency||"USD",onChange:e=>t({...r,currency:e.target.value}),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border border-gray-300 focus:ring-primary-500 focus:border-primary-500 sm:text-sm",children:[(0,s.jsx)("option",{value:"USD",children:"USD ($) - US Dollar"}),(0,s.jsx)("option",{value:"INR",children:"INR (â‚¹) - Indian Rupee"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"GSTIN"}),(0,s.jsx)("input",{type:"text",value:r.gstin||"",onChange:e=>t({...r,gstin:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"PAN Number"}),(0,s.jsx)("input",{type:"text",value:r.pan||"",onChange:e=>t({...r,pan:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"TAN Number"}),(0,s.jsx)("input",{type:"text",value:r.tan||"",onChange:e=>t({...r,tan:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"})]})]})]}),(0,s.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200 flex justify-end",children:(0,s.jsxs)("button",{type:"submit",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,s.jsx)(d.Z,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})})]})]}):(0,s.jsx)("div",{className:"p-8 text-center text-gray-500",children:"Company not found."})}},89456:function(e,r,t){"use strict";t.r(r),t.d(r,{ToastProvider:function(){return i},useToastContext:function(){return c}});var s=t(57437),a=t(2265);function l(e){let{id:r,type:t,message:l,onClose:o}=e;(0,a.useEffect)(()=>{let e=setTimeout(()=>o(r),5e3);return()=>clearTimeout(e)},[r,o]);let n={success:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),warning:(0,s.jsx)("svg",{className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:(0,s.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};return(0,s.jsx)("div",{className:"".concat({success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800",info:"bg-blue-50 border-blue-500 text-blue-800"}[t]," border-l-4 p-4 rounded-lg shadow-lg mb-2 animate-slide-in-right max-w-md"),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:n[t]}),(0,s.jsx)("div",{className:"ml-3 flex-1",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:l})}),(0,s.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,s.jsxs)("button",{onClick:()=>o(r),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}function o(e){let{toasts:r,onClose:t}=e;return(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(e=>(0,s.jsx)(l,{id:e.id,type:e.type,message:e.message,onClose:t},e.id))})}let n=(0,a.createContext)(void 0);function i(e){let{children:r}=e,[t,l]=(0,a.useState)([]),i=e=>{l(r=>r.filter(r=>r.id!==e))};return(0,s.jsxs)(n.Provider,{value:{toasts:t,showToast:(e,r)=>{let t=Date.now().toString()+Math.random().toString(36);l(s=>[...s,{id:t,type:e,message:r}])},removeToast:i},children:[r,(0,s.jsx)(o,{toasts:t,onClose:i})]})}function c(){let e=(0,a.useContext)(n);if(!e)throw Error("useToastContext must be used within ToastProvider");return e}},61153:function(e,r,t){"use strict";t.d(r,{p:function(){return a}});var s=t(89456);function a(){let{showToast:e}=(0,s.useToastContext)();return{success:r=>e("success",r),error:r=>e("error",r),warning:r=>e("warning",r),info:r=>e("info",r)}}},30622:function(e,r,t){"use strict";var s=t(2265),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,n=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(e,r,t){var s,l={},c=null,d=null;for(s in void 0!==t&&(c=""+t),void 0!==r.key&&(c=""+r.key),void 0!==r.ref&&(d=r.ref),r)o.call(r,s)&&!i.hasOwnProperty(s)&&(l[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===l[s]&&(l[s]=r[s]);return{$$typeof:a,type:e,key:c,ref:d,props:l,_owner:n.current}}r.Fragment=l,r.jsx=c,r.jsxs=c},57437:function(e,r,t){"use strict";e.exports=t(30622)}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=68724)}),_N_E=e.O()}]);