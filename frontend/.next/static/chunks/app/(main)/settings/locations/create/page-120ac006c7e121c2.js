(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7670],{29433:function(e,r,t){Promise.resolve().then(t.bind(t,29214))},29214:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return l}});var s=t(57437),o=t(61153),a=t(2265),n=t(24033);function l(){let e=(0,o.p)(),r=(0,n.useRouter)(),[t,l]=(0,a.useState)({name:"",code:"",address:"",city:"",state:"",country:"India",pincode:"",phone:"",email:""}),[i,d]=(0,a.useState)(!1),c=async s=>{s.preventDefault(),d(!0);try{let s=localStorage.getItem("token");(await fetch("".concat("http://localhost:5000/api","/api/branches"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify(t)})).ok?r.push("/settings/locations"):e.error("Failed to create location")}catch(e){console.error("Error creating location",e)}finally{d(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Add New Location"}),(0,s.jsxs)("form",{onSubmit:c,className:"space-y-6 bg-white shadow rounded-lg p-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Branch Name *"}),(0,s.jsx)("input",{type:"text",required:!0,value:t.name,onChange:e=>l({...t,name:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500",placeholder:"e.g. Bangalore HQ"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Branch Code"}),(0,s.jsx)("input",{type:"text",value:t.code,onChange:e=>l({...t,code:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500",placeholder:"e.g. BLR-01"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,s.jsx)("input",{type:"text",value:t.phone,onChange:e=>l({...t,phone:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),(0,s.jsxs)("div",{className:"sm:col-span-2",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Address"}),(0,s.jsx)("textarea",{value:t.address,onChange:e=>l({...t,address:e.target.value}),rows:3,className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"City"}),(0,s.jsx)("input",{type:"text",value:t.city,onChange:e=>l({...t,city:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"State"}),(0,s.jsx)("input",{type:"text",value:t.state,onChange:e=>l({...t,state:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Country"}),(0,s.jsx)("input",{type:"text",value:t.country,onChange:e=>l({...t,country:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Pincode"}),(0,s.jsx)("input",{type:"text",value:t.pincode,onChange:e=>l({...t,pincode:e.target.value}),className:"mt-1 block w-full rounded-md border border-gray-300 px-3 py-2 shadow-sm focus:border-primary-500 focus:outline-none focus:ring-primary-500"})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:()=>r.back(),className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50",children:i?"Creating...":"Create Location"})]})]})]})}},89456:function(e,r,t){"use strict";t.r(r),t.d(r,{ToastProvider:function(){return i},useToastContext:function(){return d}});var s=t(57437),o=t(2265);function a(e){let{id:r,type:t,message:a,onClose:n}=e;(0,o.useEffect)(()=>{let e=setTimeout(()=>n(r),5e3);return()=>clearTimeout(e)},[r,n]);let l={success:(0,s.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:(0,s.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),warning:(0,s.jsx)("svg",{className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:(0,s.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};return(0,s.jsx)("div",{className:"".concat({success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800",info:"bg-blue-50 border-blue-500 text-blue-800"}[t]," border-l-4 p-4 rounded-lg shadow-lg mb-2 animate-slide-in-right max-w-md"),children:(0,s.jsxs)("div",{className:"flex items-start",children:[(0,s.jsx)("div",{className:"flex-shrink-0",children:l[t]}),(0,s.jsx)("div",{className:"ml-3 flex-1",children:(0,s.jsx)("p",{className:"text-sm font-medium",children:a})}),(0,s.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,s.jsxs)("button",{onClick:()=>n(r),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}function n(e){let{toasts:r,onClose:t}=e;return(0,s.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:r.map(e=>(0,s.jsx)(a,{id:e.id,type:e.type,message:e.message,onClose:t},e.id))})}let l=(0,o.createContext)(void 0);function i(e){let{children:r}=e,[t,a]=(0,o.useState)([]),i=e=>{a(r=>r.filter(r=>r.id!==e))};return(0,s.jsxs)(l.Provider,{value:{toasts:t,showToast:(e,r)=>{let t=Date.now().toString()+Math.random().toString(36);a(s=>[...s,{id:t,type:e,message:r}])},removeToast:i},children:[r,(0,s.jsx)(n,{toasts:t,onClose:i})]})}function d(){let e=(0,o.useContext)(l);if(!e)throw Error("useToastContext must be used within ToastProvider");return e}},61153:function(e,r,t){"use strict";t.d(r,{p:function(){return o}});var s=t(89456);function o(){let{showToast:e}=(0,s.useToastContext)();return{success:r=>e("success",r),error:r=>e("error",r),warning:r=>e("warning",r),info:r=>e("info",r)}}},30622:function(e,r,t){"use strict";var s=t(2265),o=Symbol.for("react.element"),a=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,l=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function d(e,r,t){var s,a={},d=null,c=null;for(s in void 0!==t&&(d=""+t),void 0!==r.key&&(d=""+r.key),void 0!==r.ref&&(c=r.ref),r)n.call(r,s)&&!i.hasOwnProperty(s)&&(a[s]=r[s]);if(e&&e.defaultProps)for(s in r=e.defaultProps)void 0===a[s]&&(a[s]=r[s]);return{$$typeof:o,type:e,key:d,ref:c,props:a,_owner:l.current}}r.Fragment=a,r.jsx=d,r.jsxs=d},57437:function(e,r,t){"use strict";e.exports=t(30622)},24033:function(e,r,t){e.exports=t(15313)}},function(e){e.O(0,[2971,4938,1744],function(){return e(e.s=29433)}),_N_E=e.O()}]);