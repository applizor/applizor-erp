(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1216],{35605:function(e,r,t){Promise.resolve().then(t.bind(t,86558))},86558:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return i}});var a=t(57437),s=t(2265),n=t(85187),d=t(10826);let l=["Applied","Screening","Interview","Offer","Hired","Rejected"];function i(){let[e,r]=(0,s.useState)({}),[t,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{o()},[]);let o=async()=>{try{i(!0);let e=await d.Z.get("/recruitment/kanban");r(e.data)}catch(e){console.error("Failed to load kanban:",e)}finally{i(!1)}},c=async t=>{let{source:a,destination:s,draggableId:n}=t;if(!s||a.droppableId===s.droppableId&&a.index===s.index)return;let l=e[a.droppableId],i=e[s.droppableId],c=l[a.index],p=Array.from(l);p.splice(a.index,1);let u=Array.from(i);u.splice(s.index,0,c),r({...e,[a.droppableId]:p,[s.droppableId]:u});try{await d.Z.put("/recruitment/candidates/".concat(n,"/stage"),{stage:s.droppableId,status:"Hired"===s.droppableId?"hired":"Rejected"===s.droppableId?"rejected":"active"})}catch(e){console.error("Failed to update stage:",e),o()}};return t?(0,a.jsx)("div",{className:"p-8 text-center",children:"Loading Board..."}):(0,a.jsxs)("div",{className:"h-full flex flex-col overflow-hidden",children:[(0,a.jsxs)("div",{className:"px-6 py-4 border-b bg-white flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Recruitment Pipeline"}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Drag and drop candidates to move them between stages"})]}),(0,a.jsx)("div",{className:"flex-1 overflow-x-auto overflow-y-hidden bg-gray-100 p-6",children:(0,a.jsx)(n.Z5,{onDragEnd:c,children:(0,a.jsx)("div",{className:"flex h-full space-x-4",children:l.map(r=>{var t;return(0,a.jsxs)("div",{className:"flex flex-col w-80 bg-gray-50 rounded-lg border border-gray-200 shadow-sm h-full max-h-full",children:[(0,a.jsxs)("div",{className:"p-3 font-semibold text-gray-700 border-b bg-white rounded-t-lg flex justify-between",children:[(0,a.jsx)("span",{children:r}),(0,a.jsx)("span",{className:"bg-gray-200 text-gray-600 text-xs px-2 py-0.5 rounded-full",children:(null===(t=e[r])||void 0===t?void 0:t.length)||0})]}),(0,a.jsx)(n.bK,{droppableId:r,children:(t,s)=>{var d;return(0,a.jsxs)("div",{ref:t.innerRef,...t.droppableProps,className:"flex-1 p-2 overflow-y-auto transition-colors ".concat(s.isDraggingOver?"bg-blue-50":""),children:[null===(d=e[r])||void 0===d?void 0:d.map((e,r)=>(0,a.jsx)(n._l,{draggableId:e.id,index:r,children:(r,t)=>{var s;return(0,a.jsxs)("div",{ref:r.innerRef,...r.draggableProps,...r.dragHandleProps,className:"\n                                                                bg-white p-4 mb-3 rounded shadow-sm border border-gray-100\n                                                                hover:shadow-md transition-shadow cursor-move\n                                                                ".concat(t.isDragging?"shadow-lg ring-2 ring-primary-500 rotate-2":"","\n                                                            "),style:r.draggableProps.style,children:[(0,a.jsxs)("div",{className:"font-medium text-gray-900",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(null===(s=e.jobOpening)||void 0===s?void 0:s.title)||"General App"}),(0,a.jsx)("div",{className:"mt-2 flex justify-between items-center",children:(0,a.jsx)("span",{className:"text-xs px-1.5 py-0.5 rounded ".concat("rejected"===e.status?"bg-red-100 text-red-800":"hired"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.status})})]})}},e.id)),t.placeholder]})}})]},r)})})})})]})}},10826:function(e,r,t){"use strict";let a=t(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let r=localStorage.getItem("token");r&&(e.headers.Authorization="Bearer ".concat(r))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var r;return(null===(r=e.response)||void 0===r?void 0:r.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),r.Z=a}},function(e){e.O(0,[901,4737,6620,2971,4938,1744],function(){return e(e.s=35605)}),_N_E=e.O()}]);