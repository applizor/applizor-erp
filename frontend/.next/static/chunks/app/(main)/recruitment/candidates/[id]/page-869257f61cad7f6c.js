(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8273],{62898:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)(({color:s="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,...m},u)=>(0,a.createElement)("svg",{ref:u,...r,width:l,height:l,stroke:s,strokeWidth:d?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,o].join(" "),...m},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]]));return s.displayName=`${e}`,s}},11981:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},72894:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},13008:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74056:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},82549:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},51057:function(e,t,s){Promise.resolve().then(s.bind(s,17165))},17165:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var a=s(57437),r=s(61153),n=s(2265),l=s(24033),i=s(61396),d=s.n(i),o=s(95638),c=s(56486);function m(e){let{isOpen:t,onClose:s,onSubmit:r}=e,[l,i]=(0,n.useState)(!1),[d,o]=(0,n.useState)({round:1,type:"technical",scheduledAt:"",interviewer:""}),c=async e=>{e.preventDefault();try{i(!0),await r(d),s(),o({round:1,type:"technical",scheduledAt:"",interviewer:""})}catch(e){console.error("Failed to schedule interview:",e)}finally{i(!1)}};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Schedule Interview"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,a.jsxs)("form",{onSubmit:c,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Round Number"}),(0,a.jsx)("input",{type:"number",required:!0,min:"1",value:d.round,onChange:e=>o({...d,round:Number(e.target.value)}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Interview Type"}),(0,a.jsxs)("select",{value:d.type,onChange:e=>o({...d,type:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"technical",children:"Technical"}),(0,a.jsx)("option",{value:"hr",children:"HR"}),(0,a.jsx)("option",{value:"managerial",children:"Managerial"}),(0,a.jsx)("option",{value:"final",children:"Final Round"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date & Time"}),(0,a.jsx)("input",{type:"datetime-local",required:!0,value:d.scheduledAt,onChange:e=>o({...d,scheduledAt:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Interviewer Name"}),(0,a.jsx)("input",{type:"text",required:!0,value:d.interviewer,onChange:e=>o({...d,interviewer:e.target.value}),placeholder:"e.g. Jane Doe",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:l,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:l?"Scheduling...":"Schedule"})]})]})]})}):null}function u(e){let{isOpen:t,onClose:s,onSubmit:r,candidateName:l}=e,[i,d]=(0,n.useState)(!1),[o,c]=(0,n.useState)({position:"",department:"",salary:"",startDate:""}),m=async e=>{e.preventDefault();try{d(!0),await r(o),s()}catch(e){console.error("Failed to generate offer:",e)}finally{d(!1)}};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full m-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Generate Offer Letter"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,a.jsxs)("div",{className:"px-6 py-2 bg-yellow-50 text-sm text-yellow-800 border-b border-yellow-100",children:["Generating offer for ",(0,a.jsx)("strong",{children:l})]}),(0,a.jsxs)("form",{onSubmit:m,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Position / Title"}),(0,a.jsx)("input",{type:"text",required:!0,value:o.position,onChange:e=>c({...o,position:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,a.jsx)("input",{type:"text",value:o.department,onChange:e=>c({...o,department:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Annual Salary (CTC)"}),(0,a.jsx)("input",{type:"number",required:!0,min:"0",value:o.salary,onChange:e=>c({...o,salary:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Joining Date"}),(0,a.jsx)("input",{type:"date",required:!0,value:o.startDate,onChange:e=>c({...o,startDate:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:i,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:i?"Generating...":"Generate Offer"})]})]})]})}):null}var x=s(73048);function p(e){let{isOpen:t,onClose:s,onSubmit:r,candidate:l,offer:i}=e,[d,o]=(0,n.useState)(!1),[m,u]=(0,n.useState)([]),[p,g]=(0,n.useState)([]),[h,y]=(0,n.useState)({isOpen:!1,type:"info",message:""}),[f,b]=(0,n.useState)({employeeId:"",password:"",confirmPassword:"",firstName:"",lastName:"",email:"",phone:"",departmentId:"",positionId:"",dateOfJoining:"",candidateId:""});(0,n.useEffect)(()=>{t&&(j(),b(e=>({...e,firstName:l.firstName,lastName:l.lastName,email:l.email,phone:l.phone,candidateId:l.id,dateOfJoining:(null==i?void 0:i.startDate)?new Date(i.startDate).toISOString().split("T")[0]:new Date().toISOString().split("T")[0]})))},[t,l,i]);let j=async()=>{try{let[e,t]=await Promise.all([c.WU.getAll(),c.Rw.getAll()]);if(u(e),g(t),null==i?void 0:i.department){let t=e.find(e=>e.name.toLowerCase()===i.department.toLowerCase());t&&b(e=>({...e,departmentId:t.id}))}}catch(e){console.error("Failed to load metadata",e)}},v=async e=>{if(e.preventDefault(),f.password!==f.confirmPassword){y({isOpen:!0,type:"error",title:"Password Mismatch",message:"Passwords do not match"});return}try{o(!0),await r({...f,status:"active"}),s()}catch(e){console.error("Failed to onboard:",e),y({isOpen:!0,type:"error",title:"Onboarding Failed",message:"Failed to onboard employee. Please check inputs."})}finally{o(!1)}};return t?(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full m-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900",children:"Onboard Employee"}),(0,a.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-500",children:(0,a.jsx)("span",{className:"text-2xl",children:"\xd7"})})]}),(0,a.jsxs)("form",{onSubmit:v,className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),(0,a.jsx)("input",{type:"text",value:f.firstName,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),(0,a.jsx)("input",{type:"text",value:f.lastName,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),(0,a.jsx)("input",{type:"email",value:f.email,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Phone"}),(0,a.jsx)("input",{type:"text",value:f.phone,disabled:!0,className:"mt-1 block w-full bg-gray-100 px-3 py-2 border border-gray-300 rounded-md"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Employee ID ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",required:!0,placeholder:"e.g. EMP001",value:f.employeeId,onChange:e=>b({...f,employeeId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Joining Date ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"date",required:!0,value:f.dateOfJoining,onChange:e=>b({...f,dateOfJoining:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Department"}),(0,a.jsxs)("select",{value:f.departmentId,onChange:e=>b({...f,departmentId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Select Department"}),m.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Position"}),(0,a.jsxs)("select",{value:f.positionId,onChange:e=>b({...f,positionId:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500",children:[(0,a.jsx)("option",{value:"",children:"Select Position"}),p.filter(e=>!f.departmentId||e.departmentId===f.departmentId).map(e=>(0,a.jsx)("option",{value:e.id,children:e.title},e.id))]})]})]}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"User Account Setup"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"password",required:!0,minLength:6,value:f.password,onChange:e=>b({...f,password:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700",children:["Confirm Password ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"password",required:!0,minLength:6,value:f.confirmPassword,onChange:e=>b({...f,confirmPassword:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:s,className:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 disabled:opacity-50",children:d?"Onboarding...":"Create Employee & User"})]})]}),(0,a.jsx)(x.Z,{isOpen:h.isOpen,onClose:()=>y({...h,isOpen:!1}),type:h.type,title:h.title,message:h.message})]})}):null}function g(e){var t;let{params:s}=e,i=(0,r.p)(),x=(0,l.useRouter)(),[g,h]=(0,n.useState)(null),[y,f]=(0,n.useState)([]),[b,j]=(0,n.useState)(null),[v,w]=(0,n.useState)(!0),[N,k]=(0,n.useState)(!1),[C,S]=(0,n.useState)(!1),[Z,I]=(0,n.useState)(!1),[D,E]=(0,n.useState)(!1),[A,O]=(0,n.useState)({status:"",currentStage:"",notes:""});(0,n.useEffect)(()=>{L()},[]);let L=async()=>{try{w(!0);let[e]=await Promise.all([o.hs.getById(s.id)]);h(e),O({status:e.status,currentStage:e.currentStage||"",notes:e.notes||""}),R(),T()}catch(e){console.error("Failed to load candidate data:",e),i.error("Failed to load candidate details"),x.push("/recruitment/candidates")}finally{w(!1)}},R=async()=>{try{let e=await o.pq.getByCandidate(s.id);f(e)}catch(e){console.error("Failed to load interviews:",e)}},T=async()=>{try{let e=await o.Ce.getByCandidate(s.id);j(e)}catch(e){console.log("No offer found")}},P=async e=>{e.preventDefault();try{k(!0),await o.hs.updateStatus(s.id,A),L()}catch(e){console.error("Failed to update status:",e),i.error("Failed to update candidate status")}finally{k(!1)}},M=async e=>{await o.pq.schedule({...e,candidateId:s.id}),L()},z=async e=>{await o.Ce.create({...e,candidateId:s.id}),L()},F=async e=>{await c.rw.create(e),i.success("Employee onboarded successfully! User account created."),L()},q=async e=>{let t=prompt("Enter feedback:");if(null===t)return;let s=Number(prompt("Enter rating (1-5):","3"));await o.pq.updateFeedback(e,{feedback:t,rating:s,status:"completed"}),L()},B=async e=>{confirm("Mark offer as ACCEPTED? This will mark the candidate as HIRED.")&&(await o.Ce.updateStatus(e,"accepted"),L())},U=async e=>{confirm("Mark offer as REJECTED? This will mark the candidate as REJECTED.")&&(await o.Ce.updateStatus(e,"rejected"),L())};return v?(0,a.jsx)("div",{children:"Loading..."}):g?(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)(d(),{href:"/recruitment/candidates",className:"text-sm text-gray-500 hover:text-gray-700",children:"← Back to Candidates"}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:[g.firstName," ",g.lastName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[g.email," • ",g.phone]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-semibold uppercase tracking-wide\n                    ".concat("hired"===g.status?"bg-green-100 text-green-800":"rejected"===g.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:g.status}),"hired"===g.status&&(0,a.jsx)("button",{onClick:()=>E(!0),className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 text-sm font-medium",children:"Onboard as Employee"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Interviews"}),(0,a.jsx)("button",{onClick:()=>S(!0),className:"text-sm text-primary-600 hover:text-primary-800 font-medium",children:"+ Schedule Interview"})]}),(0,a.jsx)("div",{className:"border-t border-gray-200",children:0===y.length?(0,a.jsx)("div",{className:"px-4 py-5 text-sm text-gray-500 text-center",children:"No interviews scheduled."}):(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:y.map(e=>(0,a.jsxs)("li",{className:"px-4 py-4 sm:px-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 truncate",children:["Round ",e.round,": ",e.type.toUpperCase()]}),(0,a.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\n                                                ".concat("completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})})]}),(0,a.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,a.jsxs)("p",{children:["Scheduled: ",new Date(e.scheduledAt).toLocaleString()]}),(0,a.jsxs)("p",{children:["Interviewer: ",e.interviewer]}),e.feedback&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded",children:[(0,a.jsx)("p",{className:"font-medium",children:"Feedback:"}),(0,a.jsx)("p",{children:e.feedback}),(0,a.jsxs)("p",{children:["Rating: ",e.rating,"/5"]})]})]}),"scheduled"===e.status&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("button",{onClick:()=>q(e.id),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"Add Feedback & Complete"})})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6 flex justify-between items-center",children:[(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Offer Letter"}),!b&&(0,a.jsx)("button",{onClick:()=>I(!0),className:"text-sm text-green-600 hover:text-green-800 font-medium",children:"+ Generate Offer"})]}),(0,a.jsx)("div",{className:"border-t border-gray-200",children:b?(0,a.jsxs)("div",{className:"px-4 py-5 sm:px-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\n                                            ".concat("accepted"===b.status?"bg-green-100 text-green-800":"rejected"===b.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:b.status.toUpperCase()})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Salary (CTC)"}),(0,a.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:["₹ ",b.salary.toLocaleString()]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Position"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:b.position})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Joining Date"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(b.startDate).toLocaleDateString()})]})]}),"pending"===b.status||"sent"===b.status?(0,a.jsxs)("div",{className:"mt-6 flex space-x-4",children:[(0,a.jsx)("button",{onClick:()=>B(b.id),className:"bg-green-600 text-white px-4 py-2 rounded text-sm hover:bg-green-700",children:"Mark Accepted (Hire)"}),(0,a.jsx)("button",{onClick:()=>U(b.id),className:"bg-red-600 text-white px-4 py-2 rounded text-sm hover:bg-red-700",children:"Mark Rejected"}),"pending"===b.status&&(0,a.jsx)("button",{onClick:()=>o.Ce.updateStatus(b.id,"sent").then(L),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700",children:"Mark Sent"})]}):null]}):(0,a.jsx)("div",{className:"px-4 py-5 text-sm text-gray-500 text-center",children:"No offer generated yet."})})]}),(0,a.jsxs)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:[(0,a.jsx)("div",{className:"px-4 py-5 sm:px-6",children:(0,a.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Application Details"})}),(0,a.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-0",children:(0,a.jsxs)("dl",{className:"sm:divide-y sm:divide-gray-200",children:[(0,a.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Applying For"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:(null===(t=g.jobOpening)||void 0===t?void 0:t.title)||"General Application"})]}),(0,a.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Applied On"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:new Date(g.createdAt).toLocaleDateString()})]}),(0,a.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Current Stage"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2",children:g.currentStage||"N/A"})]}),(0,a.jsxs)("div",{className:"py-4 sm:py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6",children:[(0,a.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,a.jsx)("dd",{className:"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 whitespace-pre-wrap",children:g.notes||"No notes added."})]})]})})]})]}),(0,a.jsx)("div",{className:"lg:col-span-1 space-y-6",children:(0,a.jsxs)("div",{className:"bg-white shadow sm:rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Update Status"}),(0,a.jsxs)("form",{onSubmit:P,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,a.jsxs)("select",{value:A.status,onChange:e=>O({...A,status:e.target.value}),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm rounded-md",children:[(0,a.jsx)("option",{value:"applied",children:"Applied"}),(0,a.jsx)("option",{value:"screening",children:"Screening"}),(0,a.jsx)("option",{value:"interview",children:"Interview"}),(0,a.jsx)("option",{value:"offer",children:"Offer"}),(0,a.jsx)("option",{value:"hired",children:"Hired"}),(0,a.jsx)("option",{value:"rejected",children:"Rejected"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Current Stage"}),(0,a.jsx)("input",{type:"text",value:A.currentStage,onChange:e=>O({...A,currentStage:e.target.value}),placeholder:"e.g. Technical Round 1",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Internal Notes"}),(0,a.jsx)("textarea",{rows:4,value:A.notes,onChange:e=>O({...A,notes:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500 sm:text-sm"})]}),(0,a.jsx)("button",{type:"submit",disabled:N,className:"w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:N?"Updating...":"Update Status"})]})]})})]}),(0,a.jsx)(m,{isOpen:C,onClose:()=>S(!1),onSubmit:M}),(0,a.jsx)(u,{isOpen:Z,onClose:()=>I(!1),onSubmit:z,candidateName:"".concat(g.firstName," ").concat(g.lastName)}),(0,a.jsx)(p,{isOpen:D,onClose:()=>E(!1),onSubmit:F,candidate:g,offer:b})]}):(0,a.jsx)("div",{children:"Candidate not found"})}},73048:function(e,t,s){"use strict";s.d(t,{Z:function(){return c}});var a=s(57437),r=s(2265),n=s(13008),l=s(11981),i=s(72894),d=s(74056),o=s(82549);function c(e){let{isOpen:t,onClose:s,title:c,message:m,type:u="info",confirmText:x="OK",cancelText:p="Cancel",onConfirm:g,showCancel:h=!1}=e;return((0,r.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[t]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,s]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50 transition-opacity",onClick:s}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full animate-in fade-in zoom-in duration-200",children:[(0,a.jsxs)("div",{className:"flex items-start p-6 border-b ".concat((()=>{switch(u){case"success":return"bg-green-50 border-green-200";case"error":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";default:return"bg-blue-50 border-blue-200"}})()),children:[(0,a.jsx)("div",{className:"flex-shrink-0 mr-3",children:(()=>{switch(u){case"success":return(0,a.jsx)(n.Z,{className:"w-6 h-6 text-green-600"});case"error":return(0,a.jsx)(l.Z,{className:"w-6 h-6 text-red-600"});case"warning":return(0,a.jsx)(i.Z,{className:"w-6 h-6 text-yellow-600"});default:return(0,a.jsx)(d.Z,{className:"w-6 h-6 text-blue-600"})}})()}),(0,a.jsxs)("div",{className:"flex-1",children:[c&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:c}),(0,a.jsx)("p",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:m})]}),(0,a.jsx)("button",{onClick:s,className:"flex-shrink-0 ml-3 text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(o.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 p-4 bg-gray-50",children:[h&&(0,a.jsx)("button",{onClick:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:p}),(0,a.jsx)("button",{onClick:()=>{g&&g(),s()},className:"px-4 py-2 text-sm font-medium text-white rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors ".concat((()=>{switch(u){case"error":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";case"warning":return"bg-yellow-600 hover:bg-yellow-700 focus:ring-yellow-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}})()),children:x})]})]})]}):null}},89456:function(e,t,s){"use strict";s.r(t),s.d(t,{ToastProvider:function(){return d},useToastContext:function(){return o}});var a=s(57437),r=s(2265);function n(e){let{id:t,type:s,message:n,onClose:l}=e;(0,r.useEffect)(()=>{let e=setTimeout(()=>l(t),5e3);return()=>clearTimeout(e)},[t,l]);let i={success:(0,a.jsx)("svg",{className:"h-5 w-5 text-green-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),error:(0,a.jsx)("svg",{className:"h-5 w-5 text-red-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),warning:(0,a.jsx)("svg",{className:"h-5 w-5 text-yellow-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),info:(0,a.jsx)("svg",{className:"h-5 w-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})};return(0,a.jsx)("div",{className:"".concat({success:"bg-green-50 border-green-500 text-green-800",error:"bg-red-50 border-red-500 text-red-800",warning:"bg-yellow-50 border-yellow-500 text-yellow-800",info:"bg-blue-50 border-blue-500 text-blue-800"}[s]," border-l-4 p-4 rounded-lg shadow-lg mb-2 animate-slide-in-right max-w-md"),children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:i[s]}),(0,a.jsx)("div",{className:"ml-3 flex-1",children:(0,a.jsx)("p",{className:"text-sm font-medium",children:n})}),(0,a.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,a.jsxs)("button",{onClick:()=>l(t),className:"inline-flex text-gray-400 hover:text-gray-600 focus:outline-none",children:[(0,a.jsx)("span",{className:"sr-only",children:"Close"}),(0,a.jsx)("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,a.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})]})})}function l(e){let{toasts:t,onClose:s}=e;return(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(e=>(0,a.jsx)(n,{id:e.id,type:e.type,message:e.message,onClose:s},e.id))})}let i=(0,r.createContext)(void 0);function d(e){let{children:t}=e,[s,n]=(0,r.useState)([]),d=e=>{n(t=>t.filter(t=>t.id!==e))};return(0,a.jsxs)(i.Provider,{value:{toasts:s,showToast:(e,t)=>{let s=Date.now().toString()+Math.random().toString(36);n(a=>[...a,{id:s,type:e,message:t}])},removeToast:d},children:[t,(0,a.jsx)(l,{toasts:s,onClose:d})]})}function o(){let e=(0,r.useContext)(i);if(!e)throw Error("useToastContext must be used within ToastProvider");return e}},61153:function(e,t,s){"use strict";s.d(t,{p:function(){return r}});var a=s(89456);function r(){let{showToast:e}=(0,a.useToastContext)();return{success:t=>e("success",t),error:t=>e("error",t),warning:t=>e("warning",t),info:t=>e("info",t)}}},10826:function(e,t,s){"use strict";let a=s(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),t.Z=a},56486:function(e,t,s){"use strict";s.d(t,{Rw:function(){return n},WU:function(){return r},rw:function(){return l}});var a=s(10826);let r={getAll:async()=>(await a.Z.get("/departments")).data,create:async e=>(await a.Z.post("/departments",e)).data,update:async(e,t)=>(await a.Z.put("/departments/".concat(e),t)).data,delete:async e=>(await a.Z.delete("/departments/".concat(e))).data},n={getAll:async e=>(await a.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await a.Z.post("/positions",e)).data,update:async(e,t)=>(await a.Z.put("/positions/".concat(e),t)).data,delete:async e=>(await a.Z.delete("/positions/".concat(e))).data},l={getAll:async e=>(await a.Z.get("/employees",{params:e})).data,getById:async e=>(await a.Z.get("/employees/".concat(e))).data,create:async e=>(await a.Z.post("/employees",e)).data,update:async(e,t)=>(await a.Z.put("/employees/".concat(e),t)).data,delete:async e=>(await a.Z.delete("/employees/".concat(e))).data,uploadDocument:async(e,t)=>(await a.Z.post("/employees/".concat(e,"/documents"),t,{headers:{"Content-Type":"multipart/form-data"}})).data}},95638:function(e,t,s){"use strict";s.d(t,{Ce:function(){return i},R$:function(){return r},hs:function(){return n},pq:function(){return l}});var a=s(10826);let r={getAll:async()=>(await a.Z.get("/recruitment/jobs")).data,create:async e=>(await a.Z.post("/recruitment/jobs",e)).data,getById:async e=>(await a.Z.get("/recruitment/jobs/".concat(e))).data,update:async(e,t)=>(await a.Z.put("/recruitment/jobs/".concat(e),t)).data,delete:async e=>(await a.Z.delete("/recruitment/jobs/".concat(e))).data},n={getAll:async e=>(await a.Z.get("/recruitment/candidates",{params:{jobId:e}})).data,create:async e=>(await a.Z.post("/recruitment/candidates",e)).data,getById:async e=>(await a.Z.get("/recruitment/candidates/".concat(e))).data,updateStatus:async(e,t)=>(await a.Z.put("/recruitment/candidates/".concat(e,"/status"),t)).data,delete:async e=>(await a.Z.delete("/recruitment/candidates/".concat(e))).data},l={schedule:async e=>(await a.Z.post("/recruitment/interviews",e)).data,getByCandidate:async e=>(await a.Z.get("/recruitment/candidates/".concat(e,"/interviews"))).data,updateFeedback:async(e,t)=>(await a.Z.put("/recruitment/interviews/".concat(e,"/feedback"),t)).data,cancel:async e=>(await a.Z.delete("/recruitment/interviews/".concat(e))).data},i={create:async e=>(await a.Z.post("/recruitment/offers",e)).data,getByCandidate:async e=>(await a.Z.get("/recruitment/candidates/".concat(e,"/offer"))).data,updateStatus:async(e,t)=>(await a.Z.put("/recruitment/offers/".concat(e,"/status"),{status:t})).data}},24033:function(e,t,s){e.exports=s(15313)}},function(e){e.O(0,[4737,1396,2971,4938,1744],function(){return e(e.s=51057)}),_N_E=e.O()}]);