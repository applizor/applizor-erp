(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9989],{62898:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var a=r(2265),s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:i=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:d="",children:o,...u},m)=>(0,a.createElement)("svg",{ref:m,...s,width:i,height:i,stroke:r,strokeWidth:c?24*Number(l)/Number(i):l,className:["lucide",`lucide-${n(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r}},28203:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},94136:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]])},9883:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},45367:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(62898).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},59079:function(e,t,r){Promise.resolve().then(r.bind(r,96334))},96334:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var a=r(57437),s=r(2265),n=r(10826),i=r(9883),l=r(28203),c=r(94136),d=r(45367);function o(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)(!0),[u,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[y,g]=(0,s.useState)({name:"",date:new Date().toISOString().split("T")[0],isRecurring:!1}),p=new Date().getFullYear();(0,s.useEffect)(()=>{f()},[]);let f=async()=>{try{o(!0);let e=await n.Z.get("/attendance/holidays?year=".concat(p));t(e.data)}catch(e){console.error("Failed to load holidays:",e)}finally{o(!1)}},b=async e=>{e.preventDefault();try{x?await n.Z.put("/attendance/holidays/".concat(x.id),y):await n.Z.post("/attendance/holidays",y),m(!1),h(null),g({name:"",date:"",isRecurring:!1}),f()}catch(e){console.error("Failed to save holiday:",e)}};return(0,a.jsxs)("div",{className:"p-6 max-w-4xl mx-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["Holiday Calendar ",p]}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Manage public and company holidays"})]}),(0,a.jsxs)("button",{onClick:()=>{h(null),g({name:"",date:"",isRecurring:!1}),m(!0)},className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:[(0,a.jsx)(i.Z,{size:18}),(0,a.jsx)("span",{children:"Add Holiday"})]})]}),(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:0===e.length?(0,a.jsx)("li",{className:"px-6 py-8 text-center text-gray-500",children:"No holidays added for this year."}):e.map(e=>(0,a.jsxs)("li",{className:"px-6 py-4 hover:bg-gray-50 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0 h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600",children:(0,a.jsx)(l.Z,{size:20})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),e.isRecurring&&(0,a.jsx)("span",{className:"ml-2 px-1.5 py-0.5 rounded text-xs bg-gray-100 text-gray-600",children:"Recurring"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("button",{onClick:()=>{h(e),g({name:e.name,date:new Date(e.date).toISOString().split("T")[0],isRecurring:e.isRecurring}),m(!0)},className:"text-gray-400 hover:text-blue-600",children:(0,a.jsx)(c.Z,{size:18})}),(0,a.jsx)("button",{onClick:async()=>{confirm("Delete holiday?")&&(await n.Z.delete("/attendance/holidays/".concat(e.id)),f())},className:"text-gray-400 hover:text-red-600",children:(0,a.jsx)(d.Z,{size:18})})]})]},e.id))})}),u&&(0,a.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold mb-4",children:x?"Edit Holiday":"Add New Holiday"}),(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",required:!0,value:y.name,onChange:e=>g({...y,name:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date"}),(0,a.jsx)("input",{type:"date",required:!0,value:y.date,onChange:e=>g({...y,date:e.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"recurring",checked:y.isRecurring,onChange:e=>g({...y,isRecurring:e.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"recurring",className:"ml-2 block text-sm text-gray-900",children:"Repeat Yearly?"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[(0,a.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Save"})]})]})]})})]})}},10826:function(e,t,r){"use strict";let a=r(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),t.Z=a}},function(e){e.O(0,[4737,2971,4938,1744],function(){return e(e.s=59079)}),_N_E=e.O()}]);