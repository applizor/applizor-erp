(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1405],{62898:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var s=a(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,t)=>{let a=(0,s.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:c,className:d="",children:o,...u},x)=>(0,s.createElement)("svg",{ref:x,...r,width:n,height:n,stroke:a,strokeWidth:c?24*Number(i)/Number(n):i,className:["lucide",`lucide-${l(e)}`,d].join(" "),...u},[...t.map(([e,t])=>(0,s.createElement)(e,t)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a}},11981:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},72894:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},28203:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},13008:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},74056:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},9883:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},82549:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a(62898).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},28152:function(e,t,a){Promise.resolve().then(a.bind(a,70027))},70027:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return y}});var s=a(57437),r=a(2265),l=a(96165),n=a(56486),i=a(9883),c=a(62898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,c.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),o=(0,c.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var u=a(82549),x=a(28203),p=a(34216),m=a(61079);function y(){let[e,t]=(0,r.useState)([]),[a,c]=(0,r.useState)(!0),{showAlert:y}=(0,p.useAlert)(),[g,h]=(0,r.useState)(!1),[f,v]=(0,r.useState)(null),[b,j]=(0,r.useState)(!1),[w,N]=(0,r.useState)(!1),[k,Z]=(0,r.useState)([]),[C,D]=(0,r.useState)([]),[A,T]=(0,r.useState)({employeeId:"",leaveTypeId:"",startDate:"",endDate:"",durationType:"full",reason:""}),[S,L]=(0,r.useState)(0),[z,I]=(0,r.useState)(!1);(0,r.useEffect)(()=>{E(),M()},[]);let M=async()=>{try{let[e,t]=await Promise.all([n.rw.getAll({status:"active"}),l.NY.getAll()]);Z(e),D(t)}catch(e){console.error("Failed to load metadata:",e)}};(0,r.useEffect)(()=>{A.startDate&&A.endDate&&A.leaveTypeId&&"multiple"===A.durationType?q():"multiple"!==A.durationType&&L("full"===A.durationType?1:.5)},[A.startDate,A.endDate,A.leaveTypeId,A.durationType]);let q=async()=>{try{I(!0);let e=await l.jU.calculateDays({leaveTypeId:A.leaveTypeId,startDate:A.startDate,endDate:A.endDate});L(e.days)}catch(e){console.error("Failed to calculate days",e),L(0)}finally{I(!1)}},E=async()=>{try{c(!0);let e=await l.jU.getAllLeaves();t(e)}catch(e){console.error("Failed to load requests:",e),y("Failed to load leave requests","error")}finally{c(!1)}},R=(e,t)=>{v({id:e,status:t}),h(!0)},F=async()=>{if(f)try{j(!0),await l.jU.updateStatus(f.id,f.status),y("Leave request ".concat(f.status," successfully"),"success"),E()}catch(e){console.error("Failed to update status:",e),y("Failed to update status","error")}finally{j(!1),h(!1),v(null)}},U=async e=>{e.preventDefault();try{j(!0),await l.jU.create({...A,endDate:"multiple"===A.durationType?A.endDate:A.startDate}),y("Leave assigned successfully","success"),N(!1),T({employeeId:"",leaveTypeId:"",startDate:"",endDate:"",durationType:"full",reason:""}),E()}catch(e){console.error("Failed to assign leave:",e),y("Failed to assign leave","error")}finally{j(!1)}};return(0,s.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Leave Approvals"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manage employee leave requests and assignments"})]}),(0,s.jsxs)("button",{onClick:()=>N(!0),className:"flex items-center space-x-2 bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700 shadow-sm",children:[(0,s.jsx)(i.Z,{size:18}),(0,s.jsx)("span",{children:"Assign Leave"})]})]}),(0,s.jsx)("div",{className:"bg-white shadow overflow-hidden sm:rounded-lg",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Employee"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type & Dates"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a?[1,2,3].map(e=>(0,s.jsxs)("tr",{className:"animate-pulse",children:[(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-200 rounded w-24"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-32"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-50 rounded w-40"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-4 bg-gray-100 rounded w-16"})}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"h-8 bg-gray-200 rounded w-12 ml-auto"})})]},e)):0===e.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:5,className:"px-6 py-8 text-center text-gray-500",children:"No leave requests found."})}):e.map(e=>{var t,a;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"flex-shrink-0 h-8 w-8 rounded-full bg-gray-200 flex items-center justify-center text-gray-500",children:(0,s.jsx)(d,{size:16})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.employee.firstName," ",e.employee.lastName]}),(0,s.jsx)("div",{className:"text-xs text-gray-500",children:(null===(t=e.employee.department)||void 0===t?void 0:t.name)||"N/A"})]})]})}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,s.jsx)("div",{className:"text-sm text-gray-900",children:(null===(a=e.leaveType)||void 0===a?void 0:a.name)||"Unknown Type"}),(0,s.jsxs)("div",{className:"text-xs text-gray-500",children:[new Date(e.startDate).toLocaleDateString()," - ",new Date(e.endDate).toLocaleDateString(),(0,s.jsxs)("span",{className:"ml-1 text-gray-400",children:["(",e.days," days)"]})]})]}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("div",{className:"text-sm text-gray-900 line-clamp-2 max-w-xs",title:e.reason,children:e.reason})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,s.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:"pending"===e.status&&(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)("button",{onClick:()=>R(e.id,"approved"),className:"text-green-600 hover:text-green-900 bg-green-50 p-1.5 rounded-full hover:bg-green-100",title:"Approve",children:(0,s.jsx)(o,{size:18})}),(0,s.jsx)("button",{onClick:()=>R(e.id,"rejected"),className:"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-full hover:bg-red-100",title:"Reject",children:(0,s.jsx)(u.Z,{size:18})})]})})]},e.id)})})]})}),(0,s.jsx)(m.Q,{isOpen:g,onClose:()=>h(!1),onConfirm:F,title:(null==f?void 0:f.status)==="approved"?"Approve Leave Request":"Reject Leave Request",message:"Are you sure you want to ".concat(null==f?void 0:f.status," this leave request? This action cannot be undone."),type:(null==f?void 0:f.status)==="approved"?"success":"danger",confirmText:(null==f?void 0:f.status)==="approved"?"Approve":"Reject",isLoading:b}),w&&(0,s.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-60 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-lg w-full flex flex-col max-h-[90vh]",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Assign Leave"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Manually assign leave to an employee"})]}),(0,s.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,s.jsx)(u.Z,{size:24})})]}),(0,s.jsxs)("form",{onSubmit:U,className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:["Select Employee ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{required:!0,value:A.employeeId,onChange:e=>T({...A,employeeId:e.target.value}),className:"block w-full rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:"",children:"Choose an employee..."}),k.map(e=>(0,s.jsxs)("option",{value:e.id,children:[e.firstName," ",e.lastName," (",e.employeeId,")"]},e.id))]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:["Leave Type ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsxs)("select",{required:!0,value:A.leaveTypeId,onChange:e=>T({...A,leaveTypeId:e.target.value}),className:"block w-full rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:"",children:"Select type..."}),C.map(e=>(0,s.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Duration Type"}),(0,s.jsxs)("select",{value:A.durationType,onChange:e=>T({...A,durationType:e.target.value}),className:"block w-full rounded-lg border-gray-300 bg-gray-50 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500",children:[(0,s.jsx)("option",{value:"full",children:"Full Day"}),(0,s.jsx)("option",{value:"multiple",children:"Multiple Days"}),(0,s.jsx)("option",{value:"first_half",children:"First Half"}),(0,s.jsx)("option",{value:"second_half",children:"Second Half"})]})]})]}),(0,s.jsxs)("div",{className:"grid ".concat("multiple"===A.durationType?"grid-cols-2":"grid-cols-1"," gap-4"),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"multiple"===A.durationType?"Start Date":"Date"}),(0,s.jsx)("input",{type:"date",required:!0,value:A.startDate,onChange:e=>T({...A,startDate:e.target.value}),className:"block w-full rounded-lg border-gray-300 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500"})]}),"multiple"===A.durationType&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"End Date"}),(0,s.jsx)("input",{type:"date",required:!0,value:A.endDate,onChange:e=>T({...A,endDate:e.target.value}),className:"block w-full rounded-lg border-gray-300 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500"})]})]}),A.startDate&&(0,s.jsxs)("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 flex justify-between items-center text-blue-800 text-sm",children:[(0,s.jsxs)("span",{className:"font-medium inline-flex items-center",children:[(0,s.jsx)(x.Z,{size:14,className:"mr-1"})," Total Days:"]}),z?(0,s.jsx)("span",{className:"animate-pulse",children:"Calculating..."}):(0,s.jsxs)("span",{className:"font-bold text-lg",children:[S," Days"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:["Reason / Note ",(0,s.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,s.jsx)("textarea",{required:!0,rows:3,value:A.reason,onChange:e=>T({...A,reason:e.target.value}),className:"block w-full rounded-lg border-gray-300 p-2.5 text-sm focus:border-primary-500 focus:ring-primary-500 resize-none",placeholder:"Reason for manual assignment..."})]}),(0,s.jsxs)("div",{className:"pt-4 flex items-center justify-end space-x-3 border-t border-gray-100 mt-6",children:[(0,s.jsx)("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 text-sm font-medium hover:bg-gray-50",children:"Cancel"}),(0,s.jsx)("button",{type:"submit",disabled:b||z,className:"px-6 py-2 bg-primary-600 text-white rounded-lg text-sm font-medium hover:bg-primary-700 disabled:opacity-50 shadow-lg shadow-primary-500/30",children:b?"Assigning...":"Assign Leave"})]})]})]})})]})}},61079:function(e,t,a){"use strict";a.d(t,{Q:function(){return o}});var s=a(57437),r=a(2265),l=a(82549);let n=e=>{let{isOpen:t,onClose:a,title:n,children:i,maxWidth:c="md"}=e;return((0,r.useRef)(null),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),t)?(0,s.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto overflow-x-hidden bg-gray-900/60 backdrop-blur-sm p-4 md:p-6 transition-all duration-200",children:[(0,s.jsx)("div",{className:"fixed inset-0",onClick:a,"aria-hidden":"true"}),(0,s.jsxs)("div",{className:"relative w-full ".concat({sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl"}[c]," bg-white rounded-xl shadow-2xl ring-1 ring-gray-200 transform transition-all scale-100 opacity-100"),role:"dialog","aria-modal":"true",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-100",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-gray-900 tracking-tight",children:n}),(0,s.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-600 hover:bg-gray-100 p-2 rounded-full transition-colors","aria-label":"Close",children:(0,s.jsx)(l.Z,{size:20})})]}),(0,s.jsx)("div",{className:"p-6",children:i})]})]}):null};var i=a(72894),c=a(13008),d=a(74056);let o=e=>{let{isOpen:t,onClose:a,onConfirm:r,title:l,message:o,type:u="warning",confirmText:x="Confirm",cancelText:p="Cancel",isLoading:m=!1}=e;return(0,s.jsx)(n,{isOpen:t,onClose:a,title:l,maxWidth:"sm",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4",children:[(()=>{switch(u){case"danger":return(0,s.jsx)("div",{className:"p-3 bg-red-100 rounded-full text-red-600",children:(0,s.jsx)(i.Z,{size:24})});case"warning":return(0,s.jsx)("div",{className:"p-3 bg-amber-100 rounded-full text-amber-600",children:(0,s.jsx)(i.Z,{size:24})});case"success":return(0,s.jsx)("div",{className:"p-3 bg-green-100 rounded-full text-green-600",children:(0,s.jsx)(c.Z,{size:24})});default:return(0,s.jsx)("div",{className:"p-3 bg-blue-100 rounded-full text-blue-600",children:(0,s.jsx)(d.Z,{size:24})})}})(),(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsx)("p",{className:"text-gray-600 leading-relaxed",children:o})}),(0,s.jsxs)("div",{className:"flex w-full space-x-3 pt-4",children:[(0,s.jsx)("button",{onClick:a,disabled:m,className:"flex-1 px-4 py-2.5 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium transition-colors focus:ring-2 focus:ring-offset-2 focus:ring-gray-200",children:p}),(0,s.jsx)("button",{onClick:r,disabled:m,className:"flex-1 px-4 py-2.5 text-white rounded-lg font-medium transition-all shadow-md focus:ring-2 focus:ring-offset-2 ".concat((()=>{switch(u){case"danger":return"bg-red-600 hover:bg-red-700 focus:ring-red-500";case"warning":return"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500";case"success":return"bg-green-600 hover:bg-green-700 focus:ring-green-500";default:return"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500"}})()," ").concat(m?"opacity-70 cursor-wait":""),children:m?"Processing...":x})]})]})})}},34216:function(e,t,a){"use strict";a.r(t),a.d(t,{AlertProvider:function(){return u},useAlert:function(){return x}});var s=a(57437),r=a(2265),l=a(13008),n=a(11981),i=a(72894),c=a(74056),d=a(82549);let o=(0,r.createContext)(void 0),u=e=>{let{children:t}=e,[a,u]=(0,r.useState)([]),x=(0,r.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=Math.random().toString(36).substr(2,9);u(s=>[...s,{id:a,message:e,type:t}]),setTimeout(()=>{u(e=>e.filter(e=>e.id!==a))},5e3)},[]),p=e=>{u(t=>t.filter(t=>t.id!==e))};return(0,s.jsxs)(o.Provider,{value:{showAlert:x},children:[t,(0,s.jsx)("div",{className:"fixed top-20 right-4 z-[9999] flex flex-col space-y-4 pointer-events-none",children:a.map(e=>(0,s.jsx)("div",{className:"\n                            pointer-events-auto transform transition-all duration-300 ease-in-out translate-x-0\n                            flex items-center w-full max-w-sm overflow-hidden bg-white rounded-lg shadow-lg ring-1 ring-black ring-opacity-5\n                            ".concat("success"===e.type?"border-l-4 border-green-500":"","\n                            ").concat("error"===e.type?"border-l-4 border-red-500":"","\n                            ").concat("warning"===e.type?"border-l-4 border-amber-500":"","\n                            ").concat("info"===e.type?"border-l-4 border-blue-500":"","\n                        "),children:(0,s.jsxs)("div",{className:"p-4 flex items-start",children:[(0,s.jsxs)("div",{className:"flex-shrink-0",children:["success"===e.type&&(0,s.jsx)(l.Z,{className:"w-6 h-6 text-green-500"}),"error"===e.type&&(0,s.jsx)(n.Z,{className:"w-6 h-6 text-red-500"}),"warning"===e.type&&(0,s.jsx)(i.Z,{className:"w-6 h-6 text-amber-500"}),"info"===e.type&&(0,s.jsx)(c.Z,{className:"w-6 h-6 text-blue-500"})]}),(0,s.jsxs)("div",{className:"ml-3 w-0 flex-1 pt-0.5",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,s.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.message})]}),(0,s.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,s.jsxs)("button",{className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:()=>p(e.id),children:[(0,s.jsx)("span",{className:"sr-only",children:"Close"}),(0,s.jsx)(d.Z,{className:"w-5 h-5"})]})})]})},e.id))})]})},x=()=>{let e=(0,r.useContext)(o);if(void 0===e)throw Error("useAlert must be used within an AlertProvider");return e}},10826:function(e,t,a){"use strict";let s=a(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),t.Z=s},96165:function(e,t,a){"use strict";a.d(t,{N$:function(){return c},NY:function(){return i},Nt:function(){return n},jU:function(){return l},vm:function(){return r}});var s=a(10826);let r={checkIn:async e=>(await s.Z.post("/attendance-leave/check-in",e)).data,checkOut:async()=>(await s.Z.post("/attendance-leave/check-out")).data,getMyAttendance:async(e,t)=>(await s.Z.get("/attendance-leave/my-attendance",{params:{month:e,year:t}})).data,todayStatus:async()=>(await s.Z.get("/attendance-leave/today-status")).data,getAll:async e=>(await s.Z.get("/attendance-leave/all-attendance",{params:e})).data,getMusterRoll:async(e,t,a)=>(await s.Z.get("/attendance-leave/all-attendance",{params:{month:e,year:t,departmentId:a}})).data},l={getTypes:async()=>(await s.Z.get("/attendance-leave/leave-types")).data,create:async e=>(await s.Z.post("/attendance-leave/leaves",e)).data,uploadAttachment:async e=>(await s.Z.post("/attendance-leave/leaves/upload",e,{headers:{"Content-Type":"multipart/form-data"}})).data,getMyLeaves:async()=>(await s.Z.get("/attendance-leave/my-leaves")).data,getAllLeaves:async e=>(await s.Z.get("/attendance-leave/all-leaves",{params:{status:e}})).data,updateStatus:async(e,t)=>(await s.Z.put("/attendance-leave/leaves/".concat(e,"/status"),{status:t})).data,calculateDays:async e=>(await s.Z.post("/attendance-leave/leaves/calculate",e)).data,getMyBalances:async()=>(await s.Z.get("/attendance-leave/my-balances")).data,getAllBalances:async e=>(await s.Z.get("/attendance-leave/all-balances",{params:e})).data},n={getAll:async e=>(await s.Z.get("/attendance-leave/holidays",{params:{year:e}})).data,create:async e=>(await s.Z.post("/attendance-leave/holidays",e)).data,delete:async e=>(await s.Z.delete("/attendance-leave/holidays/".concat(e))).data},i={getAll:async()=>(await s.Z.get("/attendance-leave/leave-types")).data,create:async e=>(await s.Z.post("/attendance-leave/leave-types",e)).data,update:async(e,t)=>(await s.Z.put("/attendance-leave/leave-types/".concat(e),t)).data,delete:async e=>(await s.Z.delete("/attendance-leave/leave-types/".concat(e))).data},c={getRoster:async(e,t,a)=>(await s.Z.get("/shift-rosters",{params:{startDate:e,endDate:t,departmentId:a}})).data,updateBatch:async e=>(await s.Z.post("/shift-rosters/batch",{assignments:e})).data}},56486:function(e,t,a){"use strict";a.d(t,{Rw:function(){return l},WU:function(){return r},rw:function(){return n}});var s=a(10826);let r={getAll:async()=>(await s.Z.get("/departments")).data,create:async e=>(await s.Z.post("/departments",e)).data,update:async(e,t)=>(await s.Z.put("/departments/".concat(e),t)).data,delete:async e=>(await s.Z.delete("/departments/".concat(e))).data},l={getAll:async e=>(await s.Z.get("/positions",{params:e?{departmentId:e}:{}})).data,create:async e=>(await s.Z.post("/positions",e)).data,update:async(e,t)=>(await s.Z.put("/positions/".concat(e),t)).data,delete:async e=>(await s.Z.delete("/positions/".concat(e))).data},n={getAll:async e=>(await s.Z.get("/employees",{params:e})).data,getById:async e=>(await s.Z.get("/employees/".concat(e))).data,create:async e=>(await s.Z.post("/employees",e)).data,update:async(e,t)=>(await s.Z.put("/employees/".concat(e),t)).data,delete:async e=>(await s.Z.delete("/employees/".concat(e))).data,uploadDocument:async(e,t)=>(await s.Z.post("/employees/".concat(e,"/documents"),t,{headers:{"Content-Type":"multipart/form-data"}})).data}}},function(e){e.O(0,[4737,2971,4938,1744],function(){return e(e.s=28152)}),_N_E=e.O()}]);