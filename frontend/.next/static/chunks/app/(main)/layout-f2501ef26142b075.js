(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4095],{62898:function(e,t,a){"use strict";a.d(t,{Z:function(){return i}});var r=a(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),i=(e,t)=>{let a=(0,r.forwardRef)(({color:a="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:d,...u},m)=>(0,r.createElement)("svg",{ref:m,...n,width:i,height:i,stroke:a,strokeWidth:l?24*Number(s)/Number(i):s,className:["lucide",`lucide-${o(e)}`,c].join(" "),...u},[...t.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(d)?d:[d]]));return a.displayName=`${e}`,a}},90998:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},69057:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]])},56224:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]])},71738:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},76637:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]])},65883:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},25750:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a(62898).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},14137:function(e,t,a){Promise.resolve().then(a.bind(a,65584))},65584:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return R}});var r=a(57437),n=a(2265),o=a(24033),i=a(18559),s=a(54175),l=a(61396),c=a.n(l),d=a(62898);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let u=(0,d.Z)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var m=a(25750);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,d.Z)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);var y=a(69057),f=a(71738);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let p=(0,d.Z)("CalendarCheck",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]),x=(0,d.Z)("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);var v=a(90998);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let g=(0,d.Z)("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),k=(0,d.Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),w=(0,d.Z)("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);var b=a(76637),S=a(56224);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let N=(0,d.Z)("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),Z=(0,d.Z)("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),j=(0,d.Z)("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);var L=a(65883),M=a(43206);function C(){var e,t;let a=(0,o.usePathname)(),{user:i}=(0,s.a)(),[l,d]=(0,n.useState)(!1),C=[{name:"Dashboard",href:"/dashboard",icon:u,category:"Main"},{name:"Employees",href:"/hrms/employees",icon:m.Z,category:"HRMS",module:"Employee"},{name:"Departments",href:"/hrms/departments",icon:h,category:"HRMS",module:"Department",action:"update"},{name:"Positions",href:"/hrms/positions",icon:y.Z,category:"HRMS",module:"Position",action:"update"},{name:"Assets",href:"/hrms/assets",icon:f.Z,category:"HRMS",module:"Asset"},{name:"Attendance",href:"/attendance/my-attendance",icon:p,category:"HRMS",module:"Attendance"},{name:"Holidays",href:"/attendance/holidays",icon:p,category:"HRMS",module:"Holiday"},{name:"My Leaves",href:"/attendance/leaves",icon:y.Z,category:"HRMS",module:"Leave"},{name:"Leave Approvals",href:"/attendance/leaves/approvals",icon:p,category:"HRMS",module:"Leave",action:"update"},{name:"Leave Balances",href:"/attendance/leaves/balances",icon:x,category:"HRMS",module:"LeaveBalance"},{name:"Shifts",href:"/attendance/shifts",icon:v.Z,category:"HRMS",module:"Shift",action:"update"},{name:"Shift Roster",href:"/attendance/roster",icon:p,category:"HRMS",module:"ShiftRoster"},{name:"All Attendance",href:"/attendance/admin",icon:m.Z,category:"HRMS",module:"Attendance"},{name:"Leave Types",href:"/hrms/leaves/types",icon:h,category:"HRMS",module:"LeaveType",action:"update"},{name:"Roles & Permissions",href:"/settings/roles",icon:g,category:"Settings",module:"Role"},{name:"Job Openings",href:"/recruitment/jobs",icon:y.Z,category:"Recruitment",module:"Recruitment"},{name:"Kanban Board",href:"/recruitment/board",icon:u,category:"Recruitment",module:"Recruitment"},{name:"Interviews",href:"/recruitment/interviews",icon:k,category:"Recruitment",module:"Recruitment"},{name:"Leads",href:"/leads",icon:w,category:"CRM",module:"Lead"},{name:"Clients",href:"/clients",icon:m.Z,category:"CRM",module:"Client"},{name:"Quotations",href:"/quotations",icon:b.Z,category:"CRM",module:"Lead"},{name:"Templates",href:"/quotations/templates",icon:S.Z,category:"CRM",module:"QuotationTemplate"},{name:"Invoices",href:"/invoices",icon:b.Z,category:"Finance",module:"Invoice"},{name:"Run Payroll",href:"/payroll/run",icon:N,category:"Finance",module:"Payroll"},{name:"Salary Components",href:"/payroll/components",icon:h,category:"Finance",module:"Payroll"},{name:"Payslips",href:"/payroll/payslips",icon:Z,category:"Finance",module:"Payroll"},{name:"Accounting",href:"/accounting",icon:v.Z,category:"Finance",module:"Invoice"},{name:"Documents",href:"/documents",icon:b.Z,category:"Operations",module:"Document"},{name:"Company Settings",href:"/settings/company",icon:y.Z,category:"Settings",module:"Company"}],{can:R}=(0,M.g)(),A=C.filter(e=>{var t,a,r,n;if(!i)return!1;if("Dashboard"===e.name||!e.module&&!e.role)return!0;let o=null===(t=i.roles)||void 0===t?void 0:t.some(e=>"admin"===e.toLowerCase()||"administrator"===e.toLowerCase());if(e.role&&!(null===(a=i.roles)||void 0===a?void 0:a.includes(e.role))&&!o)return!1;if(e.module){let t=e.module;if(!R(t,e.action||"read"))return!1;if("All Attendance"===e.name){let e=null==i?void 0:null===(r=i.permissions)||void 0===r?void 0:r[t];if((null==e?void 0:e.readLevel)==="owned")return!1}if("Leave Approvals"===e.name){let e=null==i?void 0:null===(n=i.permissions)||void 0===n?void 0:n[t];if((null==e?void 0:e.updateLevel)==="owned"||(null==e?void 0:e.updateLevel)==="none")return!1}}return!0}).reduce((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e),{});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"md:hidden bg-white shadow-sm p-4 flex justify-between items-center fixed w-full z-20 top-0",children:[(0,r.jsx)("span",{className:"text-xl font-bold text-gray-800",children:"Applizor ERP"}),(0,r.jsx)("button",{onClick:()=>d(!l),className:"p-2 text-gray-600",children:(0,r.jsx)(j,{})})]}),(0,r.jsx)("div",{className:"\n                fixed inset-y-0 left-0 z-10 w-64 bg-slate-900 text-white transform transition-transform duration-300 ease-in-out font-sans\n                ".concat(l?"translate-x-0":"-translate-x-full","\n                md:translate-x-0 md:static md:inset-auto md:h-screen\n            "),children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"h-16 flex items-center px-6 bg-slate-950",children:(0,r.jsx)("h1",{className:"text-xl font-bold tracking-wider",children:"Applizor ERP"})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto py-4",children:Object.entries(A).map(e=>{let[t,n]=e;return(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"px-6 text-xs font-semibold text-slate-400 uppercase tracking-wider mb-2",children:t}),(0,r.jsx)("nav",{className:"space-y-1 px-3",children:n.map(e=>{let t=a===e.href||"/dashboard"!==e.href&&(null==a?void 0:a.startsWith(e.href+"/"));return(0,r.jsxs)(c(),{href:e.href,className:"\n                                                    group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors duration-150\n                                                    ".concat(t?"bg-primary-600 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","\n                                                "),onClick:()=>d(!1),children:[(0,r.jsx)(e.icon,{className:"mr-3 h-5 w-5 flex-shrink-0 ".concat(t?"text-white":"text-slate-400 group-hover:text-white")}),e.name]},e.name)})})]},t)})}),(0,r.jsx)("div",{className:"bg-slate-950 p-4 border-t border-slate-800",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsxs)("div",{className:"h-8 w-8 rounded-full bg-slate-700 flex items-center justify-center text-sm font-bold text-white",children:[null==i?void 0:null===(e=i.firstName)||void 0===e?void 0:e[0],null==i?void 0:null===(t=i.lastName)||void 0===t?void 0:t[0]]})}),(0,r.jsxs)("div",{className:"ml-3",children:[(0,r.jsxs)("p",{className:"text-sm font-medium text-white",children:[null==i?void 0:i.firstName," ",null==i?void 0:i.lastName]}),(0,r.jsx)("p",{className:"text-xs text-slate-400",children:"View Profile"})]}),(0,r.jsx)("button",{onClick:()=>{s.I.logout(),window.location.href="/login"},className:"ml-auto p-1.5 text-slate-400 hover:text-white rounded-md hover:bg-slate-800",title:"Logout",children:(0,r.jsx)(L.Z,{className:"h-5 w-5"})})]})})]})}),l&&(0,r.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75 z-0 md:hidden",onClick:()=>d(!1)})]})}function R(e){let{children:t}=e,a=(0,o.useRouter)(),[l,c]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{c(!0),s.I.isAuthenticated()||a.push("/login")},[a]),l)?(0,r.jsx)(i.T,{children:(0,r.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,r.jsx)(C,{}),(0,r.jsx)("div",{className:"flex-1 flex flex-col md:overflow-hidden",children:(0,r.jsx)("main",{className:"flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-4 md:p-8 mt-14 md:mt-0",children:t})})]})}):null}},18559:function(e,t,a){"use strict";a.d(t,{T:function(){return s},U:function(){return l}});var r=a(57437),n=a(2265),o=a(10826);let i=(0,n.createContext)(void 0),s=e=>{let{children:t}=e,[a,s]=(0,n.useState)("USD"),[l,c]=(0,n.useState)(!0),d=async()=>{try{if(localStorage.getItem("token")){var e,t;let a=await o.Z.get("/company");(null===(t=a.data)||void 0===t?void 0:null===(e=t.company)||void 0===e?void 0:e.currency)&&s(a.data.company.currency)}}catch(e){console.error("Failed to fetch currency settings",e)}finally{c(!1)}};(0,n.useEffect)(()=>{d()},[]);let u="INR"===a?"â‚¹":"$";return(0,r.jsx)(i.Provider,{value:{currency:a,symbol:u,formatCurrency:e=>{if(null==e||""===e)return"".concat(u,"0.00");let t=Number(e);return isNaN(t)?"".concat(u,"0.00"):new Intl.NumberFormat("INR"===a?"en-IN":"en-US",{style:"currency",currency:a,minimumFractionDigits:2}).format(t)},refreshCurrency:d,loading:l},children:t})},l=()=>{let e=(0,n.useContext)(i);if(!e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},43206:function(e,t,a){"use strict";a.d(t,{g:function(){return n}});var r=a(54175);let n=()=>{let{user:e}=(0,r.a)();return{can:(t,a)=>{var r;if(!e)return!1;if(null===(r=e.roles)||void 0===r?void 0:r.some(e=>"admin"===e.toLowerCase()||"administrator"===e.toLowerCase()))return!0;if(!e.permissions)return!1;let n=e.permissions[t];if(!n)return!1;let o="none";switch(a){case"create":o=n.createLevel;break;case"read":o=n.readLevel;break;case"update":o=n.updateLevel;break;case"delete":o=n.deleteLevel}return"none"!==o&&void 0!==o},getScope:(t,a)=>{var r;if(!e||!e.permissions||!e.permissions[t])return"none";if(null===(r=e.roles)||void 0===r?void 0:r.some(e=>"admin"===e.toLowerCase()))return"all";let n=e.permissions[t],o="none";switch(a){case"create":o=n.createLevel;break;case"read":o=n.readLevel;break;case"update":o=n.updateLevel;break;case"delete":o=n.deleteLevel}return o},user:e}}},10826:function(e,t,a){"use strict";let r=a(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),t.Z=r},54175:function(e,t,a){"use strict";a.d(t,{I:function(){return o},a:function(){return i}});var r=a(10826),n=a(2265);let o={register:async e=>{let t=await r.Z.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},login:async(e,t)=>{let a=await r.Z.post("/auth/login",{email:e,password:t});return a.data.token&&(localStorage.setItem("token",a.data.token),localStorage.setItem("user",JSON.stringify(a.data.user))),a.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},getToken:()=>localStorage.getItem("token"),getUser:()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!o.getToken()},i=()=>{let[e,t]=(0,n.useState)(null),[a,i]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{let e=o.getUser();if(e&&t(e),o.getToken())try{let e=await r.Z.get("/auth/profile");if(e.data.user){let a=e.data.user;localStorage.setItem("user",JSON.stringify(a)),t(a)}}catch(e){console.error("Auth refresh failed",e)}i(!1)})()},[]),{user:e,loading:a,isAuthenticated:!!e}}},24033:function(e,t,a){e.exports=a(15313)}},function(e){e.O(0,[4737,1396,2971,4938,1744],function(){return e(e.s=14137)}),_N_E=e.O()}]);