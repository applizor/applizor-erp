(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{65156:function(e,t,r){Promise.resolve().then(r.bind(r,26911))},26911:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return l}});var a=r(57437),n=r(2265),o=r(24033),s=r(54175);function l(){let e=(0,o.useRouter)();return(0,n.useEffect)(()=>{s.I.isAuthenticated()?e.push("/dashboard"):e.push("/login")},[e]),(0,a.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:(0,a.jsxs)("div",{className:"z-10 max-w-5xl w-full items-center justify-between font-mono text-sm",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Welcome to Applizor ERP"}),(0,a.jsx)("p",{className:"text-center text-lg mb-4",children:"Complete ERP/CRM/HRMS/Accounting Solution"}),(0,a.jsx)("div",{className:"mt-8 text-center",children:(0,a.jsx)("p",{className:"text-gray-600",children:"Redirecting..."})})]})})}},10826:function(e,t,r){"use strict";let a=r(54829).Z.create({baseURL:"http://localhost:5000/api",headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{{let t=localStorage.getItem("token");t&&(e.headers.Authorization="Bearer ".concat(t))}return e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)===401&&(localStorage.removeItem("token"),localStorage.removeItem("user")),Promise.reject(e)}),t.Z=a},54175:function(e,t,r){"use strict";r.d(t,{I:function(){return o},a:function(){return s}});var a=r(10826),n=r(2265);let o={register:async e=>{let t=await a.Z.post("/auth/register",e);return t.data.token&&(localStorage.setItem("token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user))),t.data},login:async(e,t)=>{let r=await a.Z.post("/auth/login",{email:e,password:t});return r.data.token&&(localStorage.setItem("token",r.data.token),localStorage.setItem("user",JSON.stringify(r.data.user))),r.data},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},getToken:()=>localStorage.getItem("token"),getUser:()=>{let e=localStorage.getItem("user");return e?JSON.parse(e):null},isAuthenticated:()=>!!o.getToken()},s=()=>{let[e,t]=(0,n.useState)(null),[r,s]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{(async()=>{let e=o.getUser();if(e&&t(e),o.getToken())try{let e=await a.Z.get("/auth/profile");if(e.data.user){let r=e.data.user;localStorage.setItem("user",JSON.stringify(r)),t(r)}}catch(e){console.error("Auth refresh failed",e)}s(!1)})()},[]),{user:e,loading:r,isAuthenticated:!!e}}},24033:function(e,t,r){e.exports=r(15313)}},function(e){e.O(0,[4737,2971,4938,1744],function(){return e(e.s=65156)}),_N_E=e.O()}]);